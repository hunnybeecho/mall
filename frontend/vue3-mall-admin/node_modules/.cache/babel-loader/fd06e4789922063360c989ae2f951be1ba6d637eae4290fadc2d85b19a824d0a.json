{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport http from './http';\nimport api from './_api';\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      },\n      showLogin: false\n    };\n  },\n  mounted() {\n    this.showLogin = true;\n  },\n  computed: {},\n  methods: {\n    async submitForm(formName) {\n      this.$refs[formName].validate(async valid => {\n        if (valid) {\n          // const res = await login({user_name: this.loginForm.username, password: this.loginForm.password})\n\n          http.get(api.login, {\n            userName: this.loginForm.username,\n            password: this.loginForm.password\n          }).then(res => {\n            if (res.status === 10000) {\n              console.log('user', res.data.username);\n              localStorage.setItem('username', res.data.username);\n              localStorage.setItem('personalizedSignature', res.data.personalizedSignature);\n              localStorage.setItem('role', res.data.role);\n              http.get(api.getToken + `?userName=${this.loginForm.username}&password=${this.loginForm.password}`).then(_res => {\n                if (_res.status === 10000) {\n                  sessionStorage.setItem(\"token\", _res.data);\n                  this.$router.push('good');\n                }\n              });\n            } else {\n              this.$message({\n                type: 'error',\n                message: res.msg\n              });\n            }\n          });\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: '请输入正确的用户名密码',\n            offset: 100\n          });\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["http","api","data","loginForm","username","password","rules","required","message","trigger","showLogin","mounted","computed","methods","submitForm","formName","$refs","validate","valid","get","login","userName","then","res","status","console","log","localStorage","setItem","personalizedSignature","role","getToken","_res","sessionStorage","$router","push","$message","type","msg","$notify","error","title","offset"],"sources":["E:\\源码\\SpringBoot电商前端代码\\vue3-mall-admin-v2\\src\\pages\\login.vue"],"sourcesContent":["<template>\n  \t<div class=\"login_page fillcontain\">\n\t  \t\t<section class=\"card\" v-show=\"showLogin\">\n\t\t  \t\t<div class=\"left\">\n      \t\t\t\t<img width=\"148\" height=\"36\" src=\"../assets/logo.png\" alt=\"\">\n      \t\t\t\t<img width=\"544\" height=\"306\" src=\"../assets/pic.png\" alt=\"\">\n\t\t\t\t  </div>\n\t\t    \t<el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\">\n\t\t\t\t\t\t<p class=\"welcom\">慕慕生鲜管理系统登录</p>\n\t\t\t\t\t\t<!-- <p class=\"welcom-tip\">欢迎来到慕慕生鲜后台管理系统</p> -->\n\t\t\t\t\t\n\t\t\t\t\t\t<p class=\"welcom-tip\">用户名imooc 密码12345678</p>\n\t\t\t\t\t<el-form-item prop=\"username\">\n\t\t\t\t\t\t<div class=\"login-item\" >\n\t\t\t\t\t\t<el-input class=\"input-wrapper\" v-model=\"loginForm.username\" placeholder=\"请输入用户名\"></el-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item   prop=\"password\">\n\t\t\t\t\t\t<div class=\"login-item\" >\n\t\t\t\t\t\t<el-input class=\"input-wrapper\" type=\"password\" placeholder=\"请输入密码\" v-model=\"loginForm.password\"></el-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t\t<el-form-item>\n\t\t\t\t    \t<el-button type=\"primary\" @click=\"submitForm('loginForm')\" class=\"submit_btn\">登陆</el-button>\n\t\t\t\t  \t</el-form-item>\n\t\t\t\t</el-form>\n\t  \t\t</section>\n  \t</div>\n</template>\n\n<script>\n/* eslint-disable */\n\timport http from './http';\nimport api from './_api';\n\n\texport default {\n\t    data(){\n\t\t\treturn {\n\t\t\t\tloginForm: {\n\t\t\t\t\tusername: '',\n\t\t\t\t\tpassword: '',\n\t\t\t\t},\n\t\t\t\trules: {\n\t\t\t\t\tusername: [\n\t\t\t            { required: true, message: '请输入用户名', trigger: 'blur' },\n\t\t\t        ],\n\t\t\t\t\tpassword: [\n\t\t\t\t\t\t{ required: true, message: '请输入密码', trigger: 'blur' }\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\tshowLogin: false,\n\t\t\t}\n\t\t},\n\t\tmounted(){\n\t\t\tthis.showLogin = true;\n\t\t},\n\t\tcomputed: {\n\t\t},\n\t\tmethods: {\n\t\t\tasync submitForm(formName) {\n\t\t\t\tthis.$refs[formName].validate(async (valid) => {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t// const res = await login({user_name: this.loginForm.username, password: this.loginForm.password})\n\t\t\t\t\t\t\n\t\t\t\t\t\thttp.get(api.login,{userName:this.loginForm.username,password:this.loginForm.password}).then((res)=>{\n\t\t\t\t\t\t\t\tif(res.status === 10000){\n\t\t\t\t\t\t\t\t\t\tconsole.log('user',res.data.username);\n\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem('username',res.data.username);\n\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem('personalizedSignature',res.data.personalizedSignature);\n\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem('role',res.data.role);\n\t\t\t\t\t\t\t\t\t\thttp.get(api.getToken + `?userName=${this.loginForm.username}&password=${this.loginForm.password}`).then((_res)=>{\n\t\t\t\t\t\t\t\t\t\t\tif(_res.status === 10000){\n\t\t\t\t\t\t\t\t\t\t\t\tsessionStorage.setItem(\"token\", _res.data);\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$router.push('good')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\t\t\tmessage: res.msg\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n        })\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$notify.error({\n\t\t\t\t\t\t\ttitle: '错误',\n\t\t\t\t\t\t\tmessage: '请输入正确的用户名密码',\n\t\t\t\t\t\t\toffset: 100\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\" scoped>\n\t.login_page{\n  background-image: url('../assets/bg.png');\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: top;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\t}\n\t.welcom{\n\t\tfont-family: PingFangSC-Semibold;\n\t\tfont-size: 21px;\n\t\tcolor: #008BFF;\n\t\tline-height: 24px;\n\t\tfont-weight: 600;\n\t\tmargin-top: 40px;\n\t\ttext-align: left;\n\t}\n\t.manage_tip{\n\t\twidth: 100%;\n\t\ttop: -100px;\n\t\tleft: 0;\n\t\tp{\n\t\t\tfont-size: 20px;\n\t\t\tfont-weight: 700;\n\t\t\tcolor:#e4393c\n\t\t}\n\t}\n\t.card{\n\t\twidth: 1000px;\n\t\tbackground: #FFFFFF;\n\t\tbox-shadow: 0px 8px 16px 0px rgba(0,0,0,0.18);\n\t\tborder-radius: 8px;\n\t\tdisplay: flex;\n\t\tpadding: 30px;\n\t\t.left{\n\t\t\tdisplay:flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t}\n\t.form_contianer{\n\t\t// .wh(320px, 210px);\n\t\t// .ctp(320px, 210px);\n\t\ttop: auto!important;\n\t\tborder: 1px solid #eee;\n\t\tpadding: 25px;\n\t\tleft: auto;\n\t\theight: auto;\n\t\tborder-radius: 5px;\n\t\ttext-align: center;\n\t\tbackground-color: #fff;\n\n\t}\n\t.tip{\n\t\tfont-size: 12px;\n\t\tcolor: red;\n\t}\n\n\t.welcom-tip{\nfont-family: PingFangSC-Regular;\nfont-size: 16px;\ncolor: #9199A1;\nline-height: 24px;\nfont-weight: 400;\ntext-align: left;\n\t}\n\t.login-item,.el-form-item__content{\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tspan{\n\t\t\tflex: none;\n\t\t\twidth: 70px;\n\t\t}\n\t}\n\t.input-wrapper{\n\t\twidth: 320px;\nheight: 48px;\nborder-radius: 8px;\n\t}\n\t\t\t.submit_btn{\nwidth: 320px;\nheight: 48px;\n// background: rgba(0,139,255,0.30);\nborder-radius: 8px;\n\t\t}\n</style>\n"],"mappings":";AA+BA;AACC,OAAOA,IAAG,MAAO,QAAQ;AAC1B,OAAOC,GAAE,MAAO,QAAQ;AAEvB,eAAe;EACXC,IAAIA,CAAA,EAAE;IACR,OAAO;MACNC,SAAS,EAAE;QACVC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACX,CAAC;MACDC,KAAK,EAAE;QACNF,QAAQ,EAAE,CACA;UAAEG,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,QAAQ;UAAEC,OAAO,EAAE;QAAO,CAAC,CACzD;QACPJ,QAAQ,EAAE,CACT;UAAEE,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO;MAEtD,CAAC;MACDC,SAAS,EAAE;IACZ;EACD,CAAC;EACDC,OAAOA,CAAA,EAAE;IACR,IAAI,CAACD,SAAQ,GAAI,IAAI;EACtB,CAAC;EACDE,QAAQ,EAAE,CACV,CAAC;EACDC,OAAO,EAAE;IACR,MAAMC,UAAUA,CAACC,QAAQ,EAAE;MAC1B,IAAI,CAACC,KAAK,CAACD,QAAQ,CAAC,CAACE,QAAQ,CAAC,MAAOC,KAAK,IAAK;QAC9C,IAAIA,KAAK,EAAE;UACV;;UAEAlB,IAAI,CAACmB,GAAG,CAAClB,GAAG,CAACmB,KAAK,EAAC;YAACC,QAAQ,EAAC,IAAI,CAAClB,SAAS,CAACC,QAAQ;YAACC,QAAQ,EAAC,IAAI,CAACF,SAAS,CAACE;UAAQ,CAAC,CAAC,CAACiB,IAAI,CAAEC,GAAG,IAAG;YAClG,IAAGA,GAAG,CAACC,MAAK,KAAM,KAAK,EAAC;cACtBC,OAAO,CAACC,GAAG,CAAC,MAAM,EAACH,GAAG,CAACrB,IAAI,CAACE,QAAQ,CAAC;cACrCuB,YAAY,CAACC,OAAO,CAAC,UAAU,EAACL,GAAG,CAACrB,IAAI,CAACE,QAAQ,CAAC;cAClDuB,YAAY,CAACC,OAAO,CAAC,uBAAuB,EAACL,GAAG,CAACrB,IAAI,CAAC2B,qBAAqB,CAAC;cAC5EF,YAAY,CAACC,OAAO,CAAC,MAAM,EAACL,GAAG,CAACrB,IAAI,CAAC4B,IAAI,CAAC;cAC1C9B,IAAI,CAACmB,GAAG,CAAClB,GAAG,CAAC8B,QAAO,GAAK,aAAY,IAAI,CAAC5B,SAAS,CAACC,QAAS,aAAY,IAAI,CAACD,SAAS,CAACE,QAAS,EAAC,CAAC,CAACiB,IAAI,CAAEU,IAAI,IAAG;gBAChH,IAAGA,IAAI,CAACR,MAAK,KAAM,KAAK,EAAC;kBACxBS,cAAc,CAACL,OAAO,CAAC,OAAO,EAAEI,IAAI,CAAC9B,IAAI,CAAC;kBAC1C,IAAI,CAACgC,OAAO,CAACC,IAAI,CAAC,MAAM;gBACzB;cACD,CAAC;YACH,CAAC,MAAI;cACJ,IAAI,CAACC,QAAQ,CAAC;gBACZC,IAAI,EAAE,OAAO;gBACb7B,OAAO,EAAEe,GAAG,CAACe;cACf,CAAC,CAAC;YACH;UACA,CAAC;QACJ,OAAO;UACN,IAAI,CAACC,OAAO,CAACC,KAAK,CAAC;YAClBC,KAAK,EAAE,IAAI;YACXjC,OAAO,EAAE,aAAa;YACtBkC,MAAM,EAAE;UACT,CAAC,CAAC;UACF,OAAO,KAAK;QACb;MACD,CAAC,CAAC;IACH;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}