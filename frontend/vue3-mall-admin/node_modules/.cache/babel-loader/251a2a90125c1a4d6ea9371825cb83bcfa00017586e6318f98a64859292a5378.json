{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport http from './http';\nimport api from './_api';\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      },\n      showLogin: false\n    };\n  },\n  mounted() {\n    this.showLogin = true;\n  },\n  computed: {},\n  methods: {\n    async submitForm(formName) {\n      this.$refs[formName].validate(async valid => {\n        if (valid) {\n          // const res = await login({user_name: this.loginForm.username, password: this.loginForm.password})\n\n          http.get(api.login, {\n            userName: this.loginForm.username,\n            password: this.loginForm.password\n          }).then(res => {\n            if (res.status === 10000) {\n              console.log('user', res.data.username);\n              localStorage.setItem('username', res.data.username);\n              localStorage.setItem('personalizedSignature', res.data.personalizedSignature);\n              localStorage.setItem('role', res.data.role);\n              http.get(api.getToken + `?userName=${this.loginForm.username}&password=${this.loginForm.password}`).then(_res => {\n                if (_res.status === 10000) {\n                  sessionStorage.setItem(\"token\", _res.data);\n                  this.$router.push('good');\n                }\n              });\n            } else {\n              this.$message({\n                type: 'error',\n                message: res.msg\n              });\n            }\n          });\n        } else {\n          this.$notify.error({\n            title: '错误',\n            message: '请输入正确的用户名密码',\n            offset: 100\n          });\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["http","api","data","loginForm","username","password","rules","required","message","trigger","showLogin","mounted","computed","methods","submitForm","formName","$refs","validate","valid","get","login","userName","then","res","status","console","log","localStorage","setItem","personalizedSignature","role","getToken","_res","sessionStorage","$router","push","$message","type","msg","$notify","error","title","offset"],"sources":["D:\\Projects\\spring\\mall\\frontend\\vue3-mall-admin\\src\\pages\\login.vue"],"sourcesContent":["<template>\n\t<div class=\"login_page fillcontain\">\n\t\t<section class=\"card\" v-show=\"showLogin\">\n\t\t\t<div class=\"left\">\n\t\t\t\t<img width=\"250\" height=\"150\" src=\"../assets/logo.png\" alt=\"\">\n\t\t\t\t<img width=\"544\" height=\"306\" src=\"../assets/pic.png\" alt=\"\">\n\t\t\t</div>\n\t\t\t<el-form :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\">\n\t\t\t\t<p class=\"welcom\">睿乐购后台管理系统登录</p>\n\t\t\t\t<!-- <p class=\"welcom-tip\">欢迎来到慕慕生鲜后台管理系统</p> -->\n\n\t\t\t\t<!-- <p class=\"welcom-tip\">用户名imooc 密码12345678</p> -->\n\t\t\t\t<el-form-item prop=\"username\">\n\t\t\t\t\t<div class=\"login-item\">\n\t\t\t\t\t\t<el-input class=\"input-wrapper\" v-model=\"loginForm.username\" placeholder=\"请输入用户名\"></el-input>\n\t\t\t\t\t</div>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item prop=\"password\">\n\t\t\t\t\t<div class=\"login-item\">\n\t\t\t\t\t\t<el-input class=\"input-wrapper\" type=\"password\" placeholder=\"请输入密码\"\n\t\t\t\t\t\t\tv-model=\"loginForm.password\"></el-input>\n\t\t\t\t\t</div>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item>\n\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('loginForm')\" class=\"submit_btn\">登录</el-button>\n\t\t\t\t</el-form-item>\n\t\t\t</el-form>\n\t\t</section>\n\t</div>\n</template>\n\n<script>\n/* eslint-disable */\nimport http from './http';\nimport api from './_api';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tloginForm: {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: '',\n\t\t\t},\n\t\t\trules: {\n\t\t\t\tusername: [\n\t\t\t\t\t{ required: true, message: '请输入用户名', trigger: 'blur' },\n\t\t\t\t],\n\t\t\t\tpassword: [\n\t\t\t\t\t{ required: true, message: '请输入密码', trigger: 'blur' }\n\t\t\t\t],\n\t\t\t},\n\t\t\tshowLogin: false,\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.showLogin = true;\n\t},\n\tcomputed: {\n\t},\n\tmethods: {\n\t\tasync submitForm(formName) {\n\t\t\tthis.$refs[formName].validate(async (valid) => {\n\t\t\t\tif (valid) {\n\t\t\t\t\t// const res = await login({user_name: this.loginForm.username, password: this.loginForm.password})\n\n\t\t\t\t\thttp.get(api.login, { userName: this.loginForm.username, password: this.loginForm.password }).then((res) => {\n\t\t\t\t\t\tif (res.status === 10000) {\n\t\t\t\t\t\t\tconsole.log('user', res.data.username);\n\t\t\t\t\t\t\tlocalStorage.setItem('username', res.data.username);\n\t\t\t\t\t\t\tlocalStorage.setItem('personalizedSignature', res.data.personalizedSignature);\n\t\t\t\t\t\t\tlocalStorage.setItem('role', res.data.role);\n\t\t\t\t\t\t\thttp.get(api.getToken + `?userName=${this.loginForm.username}&password=${this.loginForm.password}`).then((_res) => {\n\t\t\t\t\t\t\t\tif (_res.status === 10000) {\n\t\t\t\t\t\t\t\t\tsessionStorage.setItem(\"token\", _res.data);\n\t\t\t\t\t\t\t\t\tthis.$router.push('good')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\tmessage: res.msg\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.$notify.error({\n\t\t\t\t\t\ttitle: '错误',\n\t\t\t\t\t\tmessage: '请输入正确的用户名密码',\n\t\t\t\t\t\toffset: 100\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t}\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login_page {\n\tbackground-image: url('../assets/bg.png');\n\tbackground-size: cover;\n\tbackground-repeat: no-repeat;\n\tbackground-position: top;\n\theight: 100vh;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.welcom {\n\tfont-family: PingFangSC-Semibold;\n\tfont-size: 21px;\n\tcolor: #008BFF;\n\tline-height: 24px;\n\tfont-weight: 600;\n\tmargin-top: 40px;\n\ttext-align: center;\n\tmargin-bottom: 95px;\n}\n\n.manage_tip {\n\twidth: 100%;\n\ttop: -100px;\n\tleft: 0;\n\n\tp {\n\t\tfont-size: 20px;\n\t\tfont-weight: 700;\n\t\tcolor: #e4393c\n\t}\n}\n\n.card {\n\twidth: 1000px;\n\tbackground: #FFFFFF;\n\tbox-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.18);\n\tborder-radius: 8px;\n\tdisplay: flex;\n\tpadding: 30px;\n\n\t.left {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n}\n\n.form_contianer {\n\t// .wh(320px, 210px);\n\t// .ctp(320px, 210px);\n\ttop: auto !important;\n\tborder: 1px solid #eee;\n\tpadding: 25px;\n\tleft: auto;\n\theight: auto;\n\tborder-radius: 5px;\n\ttext-align: center;\n\tbackground-color: #fff;\n\n}\n\n.tip {\n\tfont-size: 12px;\n\tcolor: red;\n}\n\n.welcom-tip {\n\tfont-family: PingFangSC-Regular;\n\tfont-size: 16px;\n\tcolor: #9199A1;\n\tline-height: 24px;\n\tfont-weight: 400;\n\ttext-align: left;\n}\n\n.login-item,\n.el-form-item__content {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\tspan {\n\t\tflex: none;\n\t\twidth: 70px;\n\t}\n}\n\n.input-wrapper {\n\twidth: 320px;\n\theight: 48px;\n\tborder-radius: 8px;\n}\n\n.submit_btn {\n\twidth: 320px;\n\theight: 48px;\n\t// background: rgba(0, 139, 255, 0.30);\n\tborder-radius: 8px;\n\n\n}\n</style>\n"],"mappings":";AAgCA;AACA,OAAOA,IAAG,MAAO,QAAQ;AACzB,OAAOC,GAAE,MAAO,QAAQ;AAExB,eAAe;EACdC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,SAAS,EAAE;QACVC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACX,CAAC;MACDC,KAAK,EAAE;QACNF,QAAQ,EAAE,CACT;UAAEG,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,QAAQ;UAAEC,OAAO,EAAE;QAAO,CAAC,CACtD;QACDJ,QAAQ,EAAE,CACT;UAAEE,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO;MAEtD,CAAC;MACDC,SAAS,EAAE;IACZ;EACD,CAAC;EACDC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACD,SAAQ,GAAI,IAAI;EACtB,CAAC;EACDE,QAAQ,EAAE,CACV,CAAC;EACDC,OAAO,EAAE;IACR,MAAMC,UAAUA,CAACC,QAAQ,EAAE;MAC1B,IAAI,CAACC,KAAK,CAACD,QAAQ,CAAC,CAACE,QAAQ,CAAC,MAAOC,KAAK,IAAK;QAC9C,IAAIA,KAAK,EAAE;UACV;;UAEAlB,IAAI,CAACmB,GAAG,CAAClB,GAAG,CAACmB,KAAK,EAAE;YAAEC,QAAQ,EAAE,IAAI,CAAClB,SAAS,CAACC,QAAQ;YAAEC,QAAQ,EAAE,IAAI,CAACF,SAAS,CAACE;UAAS,CAAC,CAAC,CAACiB,IAAI,CAAEC,GAAG,IAAK;YAC3G,IAAIA,GAAG,CAACC,MAAK,KAAM,KAAK,EAAE;cACzBC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,GAAG,CAACrB,IAAI,CAACE,QAAQ,CAAC;cACtCuB,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEL,GAAG,CAACrB,IAAI,CAACE,QAAQ,CAAC;cACnDuB,YAAY,CAACC,OAAO,CAAC,uBAAuB,EAAEL,GAAG,CAACrB,IAAI,CAAC2B,qBAAqB,CAAC;cAC7EF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEL,GAAG,CAACrB,IAAI,CAAC4B,IAAI,CAAC;cAC3C9B,IAAI,CAACmB,GAAG,CAAClB,GAAG,CAAC8B,QAAO,GAAK,aAAY,IAAI,CAAC5B,SAAS,CAACC,QAAS,aAAY,IAAI,CAACD,SAAS,CAACE,QAAS,EAAC,CAAC,CAACiB,IAAI,CAAEU,IAAI,IAAK;gBAClH,IAAIA,IAAI,CAACR,MAAK,KAAM,KAAK,EAAE;kBAC1BS,cAAc,CAACL,OAAO,CAAC,OAAO,EAAEI,IAAI,CAAC9B,IAAI,CAAC;kBAC1C,IAAI,CAACgC,OAAO,CAACC,IAAI,CAAC,MAAM;gBACzB;cACD,CAAC;YACF,OAAO;cACN,IAAI,CAACC,QAAQ,CAAC;gBACbC,IAAI,EAAE,OAAO;gBACb7B,OAAO,EAAEe,GAAG,CAACe;cACd,CAAC,CAAC;YACH;UACD,CAAC;QACF,OAAO;UACN,IAAI,CAACC,OAAO,CAACC,KAAK,CAAC;YAClBC,KAAK,EAAE,IAAI;YACXjC,OAAO,EAAE,aAAa;YACtBkC,MAAM,EAAE;UACT,CAAC,CAAC;UACF,OAAO,KAAK;QACb;MACD,CAAC,CAAC;IACH;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}