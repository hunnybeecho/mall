{"ast":null,"code":"/* eslint-disable */\nimport HeaderCom from '../components/header-com.vue';\nimport Footer from '../components/footer-com.vue';\nimport http from './http';\nimport api from './api';\nexport default {\n  data() {\n    return {\n      name: localStorage.getItem('username'),\n      role: localStorage.getItem('role'),\n      sign: '' || localStorage.getItem('personalizedSignature'),\n      visible: false\n    };\n  },\n  components: {\n    HeaderCom,\n    Footer\n  },\n  created() {},\n  mounted() {\n    // this.getData();\n  },\n  methods: {\n    handleOk() {\n      http.post(api.editPersonal, {\n        signature: this.sign\n      }).then(e => {\n        if (e.status === 10000) {\n          // this.sign = this.signature;\n          localStorage.setItem('personalizedSignature', this.sign);\n          this.$message({\n            type: 'success',\n            message: '修改成功'\n          });\n        }\n      }).finally(() => {\n        this.visible = false;\n      });\n    },\n    editFn() {\n      this.visible = true;\n    }\n  }\n};","map":{"version":3,"names":["HeaderCom","Footer","http","api","data","name","localStorage","getItem","role","sign","visible","components","created","mounted","methods","handleOk","post","editPersonal","signature","then","e","status","setItem","$message","type","message","finally","editFn"],"sources":["E:\\源码\\SpringBoot电商前端代码\\vue3-mall-v2\\src\\pages\\personal.vue"],"sourcesContent":["<template>\n  <div>\n    <HeaderCom></HeaderCom>\n<el-card class=\"box-card\">\n  <template #header>\n    <div class=\"card-header\">\n      <span>个人中心</span>\n      <el-button class=\"button\" type=\"text\" @click=\"editFn\">更改个性签名</el-button>\n    </div>\n  </template>\n  <div class=\"item\">\n    <div class=\"item-name\">昵称：</div>\n    <div class=\"item-value\">{{ name }}</div>\n  </div>\n    <div class=\"item\">\n    <div class=\"item-name\">个性签名：</div>\n    <div class=\"item-value\">{{ sign }}</div>\n  </div>\n    <div class=\"item\">\n    <div class=\"item-name\">角色：</div>\n    <div class=\"item-value\">{{\n              role === \"1\" ? \"普通用户\" : \"管理员\"\n            }}</div>\n  </div>\n</el-card>\n\n    <Footer></Footer>\n                  <el-dialog\n                title=\"更改个人信息\"\n                v-model=\"visible\"\n                width=\"30%\"\n              >\n                <div\n                  className=\"items\"\n                  :style=\"{ display: 'flex', width: '100%',alignItems:'center' }\"\n                >\n                  <span :style=\"{ width: '100px', fontSize: '16px',whiteSpace:'nowrap' }\"\n                    >个人签名：</span\n                  >\n                  <el-input\n                    v-model=\"sign\"\n                    placeholder=\"请输入个性签名\"\n                  ></el-input>\n                </div>\n                <div class=\"dialog-footer\">\n                  <el-button @click=\"visible = false\">取 消</el-button>\n                  <el-button\n                    type=\"primary\"\n                    @click=\"handleOk\n                    \"\n                    >确 定</el-button\n                  >\n                </div>\n              </el-dialog>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport HeaderCom from '../components/header-com.vue';\nimport Footer from '../components/footer-com.vue';\nimport http from './http'\nimport api from './api'\n    export default {\n        data(){\n            return {\n                name: localStorage.getItem('username'),\n                role: localStorage.getItem('role'),\n                sign:'' || localStorage.getItem('personalizedSignature'),\n                visible: false,\n            }\n        },\n    \tcomponents: {\n    \t\tHeaderCom,\n            Footer,\n    \t},\n        created(){\n        },\n        mounted(){\n                // this.getData();\n        },\n        methods: {\n            handleOk(){\n                                    http\n                        .post(api.editPersonal, {\n                          signature: this.sign,\n                        })\n                        .then((e) => {\n                          if (e.status === 10000) {\n                            // this.sign = this.signature;\n                            localStorage.setItem(\n                              'personalizedSignature',\n                              this.sign\n                            );\n                            this.$message({\n                              type: 'success',\n                              message: '修改成功',\n                            });\n                          }\n                        })\n                        .finally(() => {\n                          this.visible = false;\n                        })\n    },\n    editFn(){\n      this.visible = true;\n    }\n        },\n    }\n</script>\n\n<style lang=\"less\">\n.edit-class{\n  cursor: pointer;\n}\n.dialog-footer{\n  margin-top: 20px;\n}\n.card-header{\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.box-card{\n  width: 992px;\nbackground: #FFFFFF;\nbox-shadow: 0px 4px 8px 0px rgba(0,0,0,0.1);\nborder-radius: 8px;\n  margin:auto;\n  .item{\n    display: flex;\n    margin-top: 46px;\n    .item-name{\n      flex: none;\n      width: 100px;\n      text-align: right;\n    }\n  }\n}\n</style>\n"],"mappings":"AA0DA;AACA,OAAOA,SAAQ,MAAO,8BAA8B;AACpD,OAAOC,MAAK,MAAO,8BAA8B;AACjD,OAAOC,IAAG,MAAO,QAAO;AACxB,OAAOC,GAAE,MAAO,OAAM;AAClB,eAAe;EACXC,IAAIA,CAAA,EAAE;IACF,OAAO;MACHC,IAAI,EAAEC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MACtCC,IAAI,EAAEF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAClCE,IAAI,EAAC,EAAC,IAAKH,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAAC;MACxDG,OAAO,EAAE;IACb;EACJ,CAAC;EACJC,UAAU,EAAE;IACXX,SAAS;IACHC;EACP,CAAC;EACEW,OAAOA,CAAA,EAAE,CACT,CAAC;EACDC,OAAOA,CAAA,EAAE;IACD;EAAA,CACP;EACDC,OAAO,EAAE;IACLC,QAAQA,CAAA,EAAE;MACcb,IAAG,CACdc,IAAI,CAACb,GAAG,CAACc,YAAY,EAAE;QACtBC,SAAS,EAAE,IAAI,CAACT;MAClB,CAAC,EACAU,IAAI,CAAEC,CAAC,IAAK;QACX,IAAIA,CAAC,CAACC,MAAK,KAAM,KAAK,EAAE;UACtB;UACAf,YAAY,CAACgB,OAAO,CAClB,uBAAuB,EACvB,IAAI,CAACb,IAAG,CACT;UACD,IAAI,CAACc,QAAQ,CAAC;YACZC,IAAI,EAAE,SAAS;YACfC,OAAO,EAAE;UACX,CAAC,CAAC;QACJ;MACF,CAAC,EACAC,OAAO,CAAC,MAAM;QACb,IAAI,CAAChB,OAAM,GAAI,KAAK;MACtB,CAAC;IACrB,CAAC;IACDiB,MAAMA,CAAA,EAAE;MACN,IAAI,CAACjB,OAAM,GAAI,IAAI;IACrB;EACI;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}