{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-625e212c\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  style: {\n    backgroundColor: '#ffffff'\n  }\n};\nconst _hoisted_2 = {\n  className: \"search\"\n};\nconst _hoisted_3 = {\n  class: \"content\"\n};\nconst _hoisted_4 = {\n  class: \"btn-wrapper\"\n};\nconst _hoisted_5 = {\n  class: \"goods\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = {\n  class: \"img-wrapper\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"item-bottom\"\n};\nconst _hoisted_10 = {\n  class: \"name\"\n};\nconst _hoisted_11 = {\n  class: \"price\"\n};\nconst _hoisted_12 = {\n  style: {\n    color: '#e4393c',\n    fontSize: '20px',\n    fontWeight: '700'\n  }\n};\nconst _hoisted_13 = {\n  style: {\n    display: 'flex',\n    justifyContent: 'center',\n    marginBottom: '60px'\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_HeaderCom = _resolveComponent(\"HeaderCom\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_HeaderCom), _createElementVNode(\"div\", _hoisted_2, _toDisplayString($options.deUrl() ? \"搜索‘\" + decodeURI($options.deUrl()) + \"’\" : \"\"), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.getData2 && $options.getData2(...args)),\n    class: _normalizeClass([\"fbtn\", {\n      'active': $data.active1\n    }])\n  }, \"综合\", 2 /* CLASS */), _createElementVNode(\"span\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.getDescData && $options.getDescData(...args)),\n    class: _normalizeClass([\"btn\", {\n      'active': $data.active2\n    }])\n  }, \"价格\", 2 /* CLASS */)]), _createCommentVNode(\" <div class=\\\"goods\\\">\\n        <div\\n        class=\\\"good-item\\\"\\n            v-for=\\\"(item, index) in goods\\\"\\n            :key=\\\"index\\\"\\n            @click=\\\"locationFn('/detail?id=' + item.id)\\\"\\n        >\\n          <img :src=\\\"item.image\\\" alt=\\\"\\\" />\\n          <p class=\\\"name\\\">{{ item.name }}</p>\\n          <p class=\\\"price\\\">{{ item.price / 100 }}元</p>\\n        </div>\\n      </div> \"), _createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.goods, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"bottom-good-item\",\n      key: index,\n      onClick: $event => $options.locationFn('/detail?id=' + item.id)\n    }, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"img\", {\n      class: \"good-img\",\n      src: item.image,\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_8)]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, _toDisplayString(item.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"span\", _hoisted_12, \"￥\" + _toDisplayString(item.price / 100), 1 /* TEXT */)])])], 8 /* PROPS */, _hoisted_6);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_13, [_createVNode(_component_el_pagination, {\n    onCurrentChange: $options.handleCurrentChange,\n    \"current-page\": $data.current,\n    layout: \" prev, pager, next\",\n    total: $data.total\n  }, null, 8 /* PROPS */, [\"onCurrentChange\", \"current-page\", \"total\"])])]), _createVNode(_component_Footer)]);\n}","map":{"version":3,"names":["style","backgroundColor","className","class","color","fontSize","fontWeight","_createElementBlock","_hoisted_1","_createVNode","_component_HeaderCom","_createElementVNode","_hoisted_2","_toDisplayString","$options","deUrl","decodeURI","_hoisted_3","_hoisted_4","onClick","_cache","args","getData2","_normalizeClass","$data","active1","getDescData","active2","_createCommentVNode","_hoisted_5","_Fragment","_renderList","goods","item","index","key","$event","locationFn","id","_hoisted_7","src","image","alt","_hoisted_9","_hoisted_10","name","_hoisted_11","_hoisted_12","price","_hoisted_13","_component_el_pagination","onCurrentChange","handleCurrentChange","current","layout","total","_component_Footer"],"sources":["D:\\Projects\\spring\\mall\\frontend\\vue3-mall\\src\\pages\\search.vue"],"sourcesContent":["<template>\n  <div :style=\"{ backgroundColor: '#ffffff' }\">\n    <HeaderCom></HeaderCom>\n      <div className=\"search\">\n                {{ deUrl() ? \"搜索‘\" + decodeURI(deUrl()) + \"’\" : \"\" }}\n      </div>\n      <div class=\"content\">\n        <div class=\"btn-wrapper\">\n          <span @click=\"getData2\" class=\"fbtn\" :class=\"{'active':active1}\">综合</span>\n          <span @click=\"getDescData\" class=\"btn\" :class=\"{'active':active2}\">价格</span>\n        </div>\n\n      <!-- <div class=\"goods\">\n        <div\n        class=\"good-item\"\n            v-for=\"(item, index) in goods\"\n            :key=\"index\"\n            @click=\"locationFn('/detail?id=' + item.id)\"\n        >\n          <img :src=\"item.image\" alt=\"\" />\n          <p class=\"name\">{{ item.name }}</p>\n          <p class=\"price\">{{ item.price / 100 }}元</p>\n        </div>\n      </div> -->\n\n            <div class=\"goods\">\n        <div\n        class=\"bottom-good-item\"\n            v-for=\"(item, index) in goods\"\n            :key=\"index\"\n            @click=\"locationFn('/detail?id=' + item.id)\"\n        >\n        <div class=\"img-wrapper\">\n          <img class=\"good-img\" :src=\"item.image\" alt=\"\" />\n        </div>\n          <div class=\"item-bottom\">\n            <div class=\"name\">{{ item.name }}</div>\n            <div class=\"price\"> <span :style=\"{color:'#e4393c',fontSize:'20px',fontWeight:'700'}\">￥{{ item.price / 100 }}</span></div>\n          \n          </div>\n</div>\n</div>\n\n            <div\n        :style=\"{\n          display: 'flex',\n          justifyContent: 'center',\n          marginBottom: '60px',\n        }\"\n      >\n        <el-pagination\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"current\"\n          layout=\" prev, pager, next\"\n          :total=\"total\"\n        >\n        </el-pagination>\n      </div>\n      </div>\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport HeaderCom from '../components/header-com.vue';\nimport Footer from '../components/footer-com.vue';\nimport http from './http'\nimport api from './api'\n\n\texport default {\n\t    data(){\n\t\t\treturn {\n        desc: false,\n        current: 1,\n        total: 0,\n        active1: true,\n        active2: false,\n        goods:[]\n\t\t\t}\n\t\t},\n    create(){\n      this.active1 = true;\n      this.active2 = false;\n    },\n    components: {\n      HeaderCom,\n          Footer,\n    },\n\t\tmounted(){\n\t\t\tthis.current =1;\n\t\t\tthis.getData();\n\t\t},\n\t\twatch: {\n      $route: {\n            handler() {\n              console.log('=====')\n              this.getData();\n                //深度监听，同时也可监听到param参数变化\n          },\n          // deep: true,\n      }\n  },\n\t\tcomputed: {\n\t\t},\n\t\tmethods: {\n\t\t\tlocationFn(url){\n\t\t\t\t\tthis.$router.push(url)\n\t\t\t},\n\t\t\tdeUrl(){\n\t\t\t\treturn this.getUrlkey(window.location.href).keyword\n\t\t\t},\n\t\t\thandleCurrentChange(cur){\n\t\t\t\tthis.current = cur;\n\t\t\t\tthis.getData();\n\t\t\t},\n\t\t\tgetUrlkey(url) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tvar urls = url.split(\"?\");\n\t\t\t\t\tif(urls[1]){\n\t\t\t\t\t\t\tvar arr = urls[1].split(\"&\");   \n\t\t\t\t\t\t\tfor (var i = 0, l = arr.length; i < l; i++) {\n\t\t\t\t\t\t\t\t\tvar a = arr[i].split(\"=\");               \n\t\t\t\t\t\t\t\t\tparams[a[0]] = a[1];                     \n\t\t\t\t\t\t\t\t}               \n\t\t\t\t\t}                                                    \n\t\t\t\t\treturn params;\n\t\t\t},\n      getDescData(){\n        this.desc = !this.desc;\n                    this.active1 = false;\n        this.active2 = true;\n        this.getData()\n      },\n\t\t\tgetData(){\n\n\t\t\t\t\t\t\tconst hash = window.location.hash.split('=')[1] ? window.location.hash.split('=')[1] : '';\n\t\t\t\t\t\t\tconst hash2 = window.location.hash.split('==')[1] ? window.location.hash.split('==')[1] : '';\n              let that = this;\n\t\t\t\t\t\t\thttp.get(api.productList,{\n\t\t\t\t\t\t\t\t\tkeyword:hash2 ? '' : decodeURI(hash),\n\t\t\t\t\t\t\t\t\torderBy: that.desc ? 'price desc' : 'price asc',\n\t\t\t\t\t\t\t\t\tcategoryId: decodeURI(hash2),\n\t\t\t\t\t\t\t\t\tpageSize: 20,\n\t\t\t\t\t\t\t\t\tpageNum: this.current,\n\t\t\t\t\t\t\t},1).then((res)=>{\n\t\t\t\t\t\t\t\tthis.goods = res.data.list;\n\t\t\t\t\t\t\t\tthis.total = res.data.total;\n\t\t\t\t\t\t\t})\n\t\t\t},\n\t\t\tgetData2(){\n        this.active1 = true;\n        this.active2 = false;\n        const hash = window.location.hash.split('=')[1] ? window.location.hash.split('=')[1] : '';\n        const hash2 = window.location.hash.split('==')[1] ? window.location.hash.split('==')[1] : '';\n        http.get(api.productList,{\n            keyword:hash2 ? '' : decodeURI(hash),\n            // orderBy: this.state.desc ? 'price desc' : 'price asc',\n            categoryId: decodeURI(hash2),\n            pageSize: 10,\n            pageNum: this.current,\n        },1).then((res)=>{\n            if(res.status === 10000){\n\t\t\t\t\t\t\tthis.goods = res.data.list;\n\t\t\t\t\t\t\t\tthis.total = res.data.total;\n            }\n        })\n    }\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\" scoped>\n.content{\n  background: #F8FAFC;\n  padding:0 160px;\n  height: calc(100vh - 220px);\n  padding-top: 24px;\n}\n.search{\n  text-align: left;\n  margin-top: -24px;\n  height:64px;\n  padding:0 160px;\n  line-height: 64px;\n  font-family: PingFangSC-Regular;\nfont-size: 18px;\ncolor: #343434;\nfont-weight: 400;\n}\n.btn-wrapper{\n  text-align: left;\n  .active{\n    font-family: PingFangSC-Semibold!important;\nfont-size: 14px!important;\ncolor: #343434!important;\nfont-weight: 600!important;\n  }\n  .fbtn{\n          font-family: PingFangSC-Regular;\nfont-size: 14px;\ncolor: #545C63;\nfont-weight: 400;\ncursor:pointer;\n  }\n  .btn{\n      margin-left:32px;\n      font-family: PingFangSC-Regular;\nfont-size: 14px;\ncolor: #545C63;\nfont-weight: 400;\ncursor:pointer;\n\n  }\n}\n\n  // .goods{\n  //   display: flex;\n  //   flex-wrap: wrap;\n  //   margin-bottom: 60px;\n  //   justify-content: space-around;\n  //   .good-item{\n  //     flex: 0 0 20%;\n  //     margin: 10px;\n  //     img{\n  //       width: 150px;\n  //       height: 150px;\n  //     }\n  //   }\n  // }\n\n    .goods{\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 60px;\n    justify-content: space-around;\n    .bottom-good-item{\n      flex: 0 0 23%;\n      display:flex;\n      cursor: pointer;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      background: #fff;\n      margin: 10px;\n      box-shadow: 0 6px 10px 0 rgb(95 101 105 / 15%);\n      // width: 270px;\n      // height: 220px;\n      // background: #F9F9F9;\n      box-shadow: 0px 6px 12px 0px rgba(55,55,55,0.2);\n      border-radius: 8px;\n      // padding: 30px 0;\n      .img-wrapper{\n        height: 152px;\n        padding-top: 20px;\n        flex: none;\n          img{\n            max-width: 231px;\n            max-height: 130px;\n          }\n      }\n      .item-bottom{\n        background: #F8FAFC;\n        width:100%;\n        flex: 1;\n        .name{\n          font-family: PingFangSC-Regular;\nfont-size: 14px;\ncolor: #545C63;\nline-height: 20px;\nfont-weight: 400;\nmargin-top: 10px;\npadding-left: 10px;\n        }\n        .price{\n          font-family: PingFangSC-Semibold;\nfont-size: 14px;\nmargin-top: 10px;\ncolor: #F04314;\nline-height: 18px;\nfont-weight: 600;\npadding-left: 10px;\npadding-bottom: 8px;\n        }\n        div{\n          text-align: left;\n        }\n      }\n    }\n  }\n\n</style>\n"],"mappings":";;;EACQA,KAAK,EAAE;IAAAC,eAAA;EAAA;AAA8B;;EAElCC,SAAS,EAAC;AAAQ;;EAGlBC,KAAK,EAAC;AAAS;;EACbA,KAAK,EAAC;AAAa;;EAkBfA,KAAK,EAAC;AAAO;;;EAOjBA,KAAK,EAAC;AAAa;;;EAGjBA,KAAK,EAAC;AAAa;;EACjBA,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAO;;EAASH,KAAK,EAAE;IAAAI,KAAA;IAAAC,QAAA;IAAAC,UAAA;EAAA;AAAkD;;EAOvFN,KAAK,EAAE;;;;;AAIP;;;;;uBA/CPO,mBAAA,CA2DM,OA3DNC,UA2DM,GA1DJC,YAAA,CAAuBC,oBAAA,GACrBC,mBAAA,CAEM,OAFNC,UAEM,EAAAC,gBAAA,CADOC,QAAA,CAAAC,KAAK,aAAaC,SAAS,CAACF,QAAA,CAAAC,KAAK,gCAE9CJ,mBAAA,CAoDM,OApDNM,UAoDM,GAnDJN,mBAAA,CAGM,OAHNO,UAGM,GAFJP,mBAAA,CAA0E;IAAnEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEP,QAAA,CAAAQ,QAAA,IAAAR,QAAA,CAAAQ,QAAA,IAAAD,IAAA,CAAQ;IAAElB,KAAK,EAAAoB,eAAA,EAAC,MAAM;MAAA,UAAmBC,KAAA,CAAAC;IAAO;KAAG,IAAE,kBACnEd,mBAAA,CAA4E;IAArEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEP,QAAA,CAAAY,WAAA,IAAAZ,QAAA,CAAAY,WAAA,IAAAL,IAAA,CAAW;IAAElB,KAAK,EAAAoB,eAAA,EAAC,KAAK;MAAA,UAAmBC,KAAA,CAAAG;IAAO;KAAG,IAAE,iB,GAGzEC,mBAAA,gZAWU,EAEJjB,mBAAA,CAgBN,OAhBMkB,UAgBN,I,kBAfEtB,mBAAA,CAcFuB,SAAA,QAAAC,WAAA,CAZ8BP,KAAA,CAAAQ,KAAK,GAArBC,IAAI,EAAEC,KAAK;yBAFvB3B,mBAAA,CAcF;MAbEJ,KAAK,EAAC,kBAAkB;MAEnBgC,GAAG,EAAED,KAAK;MACVf,OAAK,EAAAiB,MAAA,IAAEtB,QAAA,CAAAuB,UAAU,iBAAiBJ,IAAI,CAACK,EAAE;QAE9C3B,mBAAA,CAEM,OAFN4B,UAEM,GADJ5B,mBAAA,CAAiD;MAA5CR,KAAK,EAAC,UAAU;MAAEqC,GAAG,EAAEP,IAAI,CAACQ,KAAK;MAAEC,GAAG,EAAC;2CAE5C/B,mBAAA,CAIM,OAJNgC,UAIM,GAHJhC,mBAAA,CAAuC,OAAvCiC,WAAuC,EAAA/B,gBAAA,CAAlBoB,IAAI,CAACY,IAAI,kBAC9BlC,mBAAA,CAA0H,OAA1HmC,WAA0H,GAAtGnC,mBAAA,CAAgG,QAAhGoC,WAAgG,EAA9B,GAAC,GAAAlC,gBAAA,CAAGoB,IAAI,CAACe,KAAK,uB;oCAMpGrC,mBAAA,CAcA,OAdAsC,WAcA,GAPJxC,YAAA,CAMgByC,wBAAA;IALbC,eAAc,EAAErC,QAAA,CAAAsC,mBAAmB;IACnC,cAAY,EAAE5B,KAAA,CAAA6B,OAAO;IACtBC,MAAM,EAAC,oBAAoB;IAC1BC,KAAK,EAAE/B,KAAA,CAAA+B;6EAKd9C,YAAA,CAAiB+C,iBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}