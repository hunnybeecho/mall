{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\nimport HeaderCom from '../components/header-com.vue';\nimport Footer from '../components/footer-com.vue';\nimport http from './http';\nimport api from './api';\nexport default {\n  data() {\n    return {\n      desc: false,\n      current: 1,\n      total: 0,\n      active1: true,\n      active2: false,\n      goods: []\n    };\n  },\n  create() {\n    this.active1 = true;\n    this.active2 = false;\n  },\n  components: {\n    HeaderCom,\n    Footer\n  },\n  mounted() {\n    this.current = 1;\n    this.getData();\n  },\n  watch: {\n    $route: {\n      handler() {\n        console.log('=====');\n        this.getData();\n        //深度监听，同时也可监听到param参数变化\n      }\n      // deep: true,\n    }\n  },\n\n  computed: {},\n  methods: {\n    locationFn(url) {\n      this.$router.push(url);\n    },\n    deUrl() {\n      return this.getUrlkey(window.location.href).keyword;\n    },\n    handleCurrentChange(cur) {\n      this.current = cur;\n      this.getData();\n    },\n    getUrlkey(url) {\n      var params = {};\n      var urls = url.split(\"?\");\n      if (urls[1]) {\n        var arr = urls[1].split(\"&\");\n        for (var i = 0, l = arr.length; i < l; i++) {\n          var a = arr[i].split(\"=\");\n          params[a[0]] = a[1];\n        }\n      }\n      return params;\n    },\n    getDescData() {\n      this.desc = !this.desc;\n      this.active1 = false;\n      this.active2 = true;\n      this.getData();\n    },\n    getData() {\n      const hash = window.location.hash.split('=')[1] ? window.location.hash.split('=')[1] : '';\n      const hash2 = window.location.hash.split('==')[1] ? window.location.hash.split('==')[1] : '';\n      let that = this;\n      http.get(api.productList, {\n        keyword: hash2 ? '' : decodeURI(hash),\n        orderBy: that.desc ? 'price desc' : 'price asc',\n        categoryId: decodeURI(hash2),\n        pageSize: 20,\n        pageNum: this.current\n      }, 1).then(res => {\n        this.goods = res.data.list;\n        this.total = res.data.total;\n      });\n    },\n    getData2() {\n      this.active1 = true;\n      this.active2 = false;\n      const hash = window.location.hash.split('=')[1] ? window.location.hash.split('=')[1] : '';\n      const hash2 = window.location.hash.split('==')[1] ? window.location.hash.split('==')[1] : '';\n      http.get(api.productList, {\n        keyword: hash2 ? '' : decodeURI(hash),\n        // orderBy: this.state.desc ? 'price desc' : 'price asc',\n        categoryId: decodeURI(hash2),\n        pageSize: 10,\n        pageNum: this.current\n      }, 1).then(res => {\n        if (res.status === 10000) {\n          this.goods = res.data.list;\n          this.total = res.data.total;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["HeaderCom","Footer","http","api","data","desc","current","total","active1","active2","goods","create","components","mounted","getData","watch","$route","handler","console","log","computed","methods","locationFn","url","$router","push","deUrl","getUrlkey","window","location","href","keyword","handleCurrentChange","cur","params","urls","split","arr","i","l","length","a","getDescData","hash","hash2","that","get","productList","decodeURI","orderBy","categoryId","pageSize","pageNum","then","res","list","getData2","status"],"sources":["D:\\Projects\\spring\\mall\\frontend\\vue3-mall\\src\\pages\\search.vue"],"sourcesContent":["<template>\n  <div :style=\"{ backgroundColor: '#ffffff' }\">\n    <HeaderCom></HeaderCom>\n      <div className=\"search\">\n                {{ deUrl() ? \"搜索‘\" + decodeURI(deUrl()) + \"’\" : \"\" }}\n      </div>\n      <div class=\"content\">\n        <div class=\"btn-wrapper\">\n          <span @click=\"getData2\" class=\"fbtn\" :class=\"{'active':active1}\">综合</span>\n          <span @click=\"getDescData\" class=\"btn\" :class=\"{'active':active2}\">价格</span>\n        </div>\n\n      <!-- <div class=\"goods\">\n        <div\n        class=\"good-item\"\n            v-for=\"(item, index) in goods\"\n            :key=\"index\"\n            @click=\"locationFn('/detail?id=' + item.id)\"\n        >\n          <img :src=\"item.image\" alt=\"\" />\n          <p class=\"name\">{{ item.name }}</p>\n          <p class=\"price\">{{ item.price / 100 }}元</p>\n        </div>\n      </div> -->\n\n            <div class=\"goods\">\n        <div\n        class=\"bottom-good-item\"\n            v-for=\"(item, index) in goods\"\n            :key=\"index\"\n            @click=\"locationFn('/detail?id=' + item.id)\"\n        >\n        <div class=\"img-wrapper\">\n          <img class=\"good-img\" :src=\"item.image\" alt=\"\" />\n        </div>\n          <div class=\"item-bottom\">\n            <div class=\"name\">{{ item.name }}</div>\n            <div class=\"price\"> <span :style=\"{color:'#e4393c',fontSize:'20px',fontWeight:'700'}\">￥{{ item.price / 100 }}</span></div>\n          \n          </div>\n</div>\n</div>\n\n            <div\n        :style=\"{\n          display: 'flex',\n          justifyContent: 'center',\n          marginBottom: '60px',\n        }\"\n      >\n        <el-pagination\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"current\"\n          layout=\" prev, pager, next\"\n          :total=\"total\"\n        >\n        </el-pagination>\n      </div>\n      </div>\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport HeaderCom from '../components/header-com.vue';\nimport Footer from '../components/footer-com.vue';\nimport http from './http'\nimport api from './api'\n\n\texport default {\n\t    data(){\n\t\t\treturn {\n        desc: false,\n        current: 1,\n        total: 0,\n        active1: true,\n        active2: false,\n        goods:[]\n\t\t\t}\n\t\t},\n    create(){\n      this.active1 = true;\n      this.active2 = false;\n    },\n    components: {\n      HeaderCom,\n          Footer,\n    },\n\t\tmounted(){\n\t\t\tthis.current =1;\n\t\t\tthis.getData();\n\t\t},\n\t\twatch: {\n      $route: {\n            handler() {\n              console.log('=====')\n              this.getData();\n                //深度监听，同时也可监听到param参数变化\n          },\n          // deep: true,\n      }\n  },\n\t\tcomputed: {\n\t\t},\n\t\tmethods: {\n\t\t\tlocationFn(url){\n\t\t\t\t\tthis.$router.push(url)\n\t\t\t},\n\t\t\tdeUrl(){\n\t\t\t\treturn this.getUrlkey(window.location.href).keyword\n\t\t\t},\n\t\t\thandleCurrentChange(cur){\n\t\t\t\tthis.current = cur;\n\t\t\t\tthis.getData();\n\t\t\t},\n\t\t\tgetUrlkey(url) {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tvar urls = url.split(\"?\");\n\t\t\t\t\tif(urls[1]){\n\t\t\t\t\t\t\tvar arr = urls[1].split(\"&\");   \n\t\t\t\t\t\t\tfor (var i = 0, l = arr.length; i < l; i++) {\n\t\t\t\t\t\t\t\t\tvar a = arr[i].split(\"=\");               \n\t\t\t\t\t\t\t\t\tparams[a[0]] = a[1];                     \n\t\t\t\t\t\t\t\t}               \n\t\t\t\t\t}                                                    \n\t\t\t\t\treturn params;\n\t\t\t},\n      getDescData(){\n        this.desc = !this.desc;\n                    this.active1 = false;\n        this.active2 = true;\n        this.getData()\n      },\n\t\t\tgetData(){\n\n\t\t\t\t\t\t\tconst hash = window.location.hash.split('=')[1] ? window.location.hash.split('=')[1] : '';\n\t\t\t\t\t\t\tconst hash2 = window.location.hash.split('==')[1] ? window.location.hash.split('==')[1] : '';\n              let that = this;\n\t\t\t\t\t\t\thttp.get(api.productList,{\n\t\t\t\t\t\t\t\t\tkeyword:hash2 ? '' : decodeURI(hash),\n\t\t\t\t\t\t\t\t\torderBy: that.desc ? 'price desc' : 'price asc',\n\t\t\t\t\t\t\t\t\tcategoryId: decodeURI(hash2),\n\t\t\t\t\t\t\t\t\tpageSize: 20,\n\t\t\t\t\t\t\t\t\tpageNum: this.current,\n\t\t\t\t\t\t\t},1).then((res)=>{\n\t\t\t\t\t\t\t\tthis.goods = res.data.list;\n\t\t\t\t\t\t\t\tthis.total = res.data.total;\n\t\t\t\t\t\t\t})\n\t\t\t},\n\t\t\tgetData2(){\n        this.active1 = true;\n        this.active2 = false;\n        const hash = window.location.hash.split('=')[1] ? window.location.hash.split('=')[1] : '';\n        const hash2 = window.location.hash.split('==')[1] ? window.location.hash.split('==')[1] : '';\n        http.get(api.productList,{\n            keyword:hash2 ? '' : decodeURI(hash),\n            // orderBy: this.state.desc ? 'price desc' : 'price asc',\n            categoryId: decodeURI(hash2),\n            pageSize: 10,\n            pageNum: this.current,\n        },1).then((res)=>{\n            if(res.status === 10000){\n\t\t\t\t\t\t\tthis.goods = res.data.list;\n\t\t\t\t\t\t\t\tthis.total = res.data.total;\n            }\n        })\n    }\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\" scoped>\n.content{\n  background: #F8FAFC;\n  padding:0 160px;\n  height: calc(100vh - 220px);\n  padding-top: 24px;\n}\n.search{\n  text-align: left;\n  margin-top: -24px;\n  height:64px;\n  padding:0 160px;\n  line-height: 64px;\n  font-family: PingFangSC-Regular;\nfont-size: 18px;\ncolor: #343434;\nfont-weight: 400;\n}\n.btn-wrapper{\n  text-align: left;\n  .active{\n    font-family: PingFangSC-Semibold!important;\nfont-size: 14px!important;\ncolor: #343434!important;\nfont-weight: 600!important;\n  }\n  .fbtn{\n          font-family: PingFangSC-Regular;\nfont-size: 14px;\ncolor: #545C63;\nfont-weight: 400;\ncursor:pointer;\n  }\n  .btn{\n      margin-left:32px;\n      font-family: PingFangSC-Regular;\nfont-size: 14px;\ncolor: #545C63;\nfont-weight: 400;\ncursor:pointer;\n\n  }\n}\n\n  // .goods{\n  //   display: flex;\n  //   flex-wrap: wrap;\n  //   margin-bottom: 60px;\n  //   justify-content: space-around;\n  //   .good-item{\n  //     flex: 0 0 20%;\n  //     margin: 10px;\n  //     img{\n  //       width: 150px;\n  //       height: 150px;\n  //     }\n  //   }\n  // }\n\n    .goods{\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 60px;\n    justify-content: space-around;\n    .bottom-good-item{\n      flex: 0 0 23%;\n      display:flex;\n      cursor: pointer;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      background: #fff;\n      margin: 10px;\n      box-shadow: 0 6px 10px 0 rgb(95 101 105 / 15%);\n      // width: 270px;\n      // height: 220px;\n      // background: #F9F9F9;\n      box-shadow: 0px 6px 12px 0px rgba(55,55,55,0.2);\n      border-radius: 8px;\n      // padding: 30px 0;\n      .img-wrapper{\n        height: 152px;\n        padding-top: 20px;\n        flex: none;\n          img{\n            max-width: 231px;\n            max-height: 130px;\n          }\n      }\n      .item-bottom{\n        background: #F8FAFC;\n        width:100%;\n        flex: 1;\n        .name{\n          font-family: PingFangSC-Regular;\nfont-size: 14px;\ncolor: #545C63;\nline-height: 20px;\nfont-weight: 400;\nmargin-top: 10px;\npadding-left: 10px;\n        }\n        .price{\n          font-family: PingFangSC-Semibold;\nfont-size: 14px;\nmargin-top: 10px;\ncolor: #F04314;\nline-height: 18px;\nfont-weight: 600;\npadding-left: 10px;\npadding-bottom: 8px;\n        }\n        div{\n          text-align: left;\n        }\n      }\n    }\n  }\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}