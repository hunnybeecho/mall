{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\nimport HeaderCom from '../components/header-com.vue';\nimport FooterCom from '../components/footer-com.vue';\nimport http from './http';\nimport api from './api';\nexport default {\n  data() {\n    return {\n      visible: false,\n      name: '默认商品',\n      subName: '默认描述',\n      money: '100.00',\n      img: ''\n    };\n  },\n  components: {\n    HeaderCom,\n    FooterCom\n  },\n  created() {\n    this.initData();\n  },\n  methods: {\n    addFn() {\n      http.post(api.cartAdd, {\n        productId: window.location.hash.split('=')[1],\n        count: 1\n      }).then(res => {\n        if (res.status === 10000) {\n          this.visible = true;\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      });\n    },\n    initData() {\n      let hash = window.location.hash.split('=')[1];\n      http.get(api.productDetail, {\n        id: hash\n      }, 1).then(res => {\n        if (res.status === 10000) {\n          this.name = res.data.name;\n          this.img = res.data.image;\n          this.subName = res.data.detail;\n          this.money = res.data.price;\n          this.stock = res.data.stock;\n        }\n      });\n    },\n    handleOk() {\n      this.$router.push('/cart');\n      this.visible = false;\n    }\n  }\n};","map":{"version":3,"names":["HeaderCom","FooterCom","http","api","data","visible","name","subName","money","img","components","created","initData","methods","addFn","post","cartAdd","productId","window","location","hash","split","count","then","res","status","$message","type","message","msg","get","productDetail","id","image","detail","price","stock","handleOk","$router","push"],"sources":["D:\\Projects\\spring\\mumumall\\vue3-mall-v2\\src\\pages\\detail.vue"],"sourcesContent":["<template>\n  <div :style=\"{ backgroundColor: '#ffffff' }\">\n    <HeaderCom></HeaderCom>\n      <div className=\"content-header-wrapper\">\n\n      <div className=\"content-header\">\n                商品详情\n      </div>\n      </div>\n      <div class=\"detail-wrapper-wrapper\">\n\n      <div class=\"detail-wrapper\">\n    <div class=\"good-detail\">\n      <!-- <div class=\"title\">\n        {{ name }}\n      </div> -->\n      <div class=\"bottom\">\n          <img\n          class=\"detail-img\"\n            :style=\"{ width: '540px', height: '304px' }\"\n            :src=\"img\"\n          />\n          <div class=\"detail-left\">\n            <div class=\"desc\">\n              <div class=\"subname\">\n              商品名称：{{ name }}\n              </div>\n              <div class=\"subname\">\n              其他：{{ subName }}\n              </div>\n            </div>\n            <div class=\"left-bottom\">\n                          <div class=\"price\">售价：{{ money / 100 }}元</div>\n              <el-button class=\"buy\" type=\"primary\" @click=\"addFn\"\n                >加入购物车</el-button\n              >\n              </div>\n          </div>\n      </div>\n    </div>\n    </div>\n      </div>\n    <FooterCom></FooterCom>\n    <el-dialog class=\"buy-dialog\" title=\"\" v-model=\"visible\" width=\"30%\">\n      <img class=\"good-img\" src=\"../assets/already.png\" alt=\"\">\n      <div\n        class=\"already-buy\"\n      >\n        已将商品加入购物车\n      </div>\n      <div :style=\"{ display: 'flex', justifyContent: 'center' }\">\n        <el-button class=\"cancel-btn\" :style=\"{ marginTop: '20px' }\" @click=\"visible = false\"\n          >继续购物</el-button\n        >\n        <el-button\n        class=\"yes-btn\"\n          :style=\"{ marginTop: '20px' }\"\n          type=\"primary\"\n          @click=\"handleOk\"\n          >去结算</el-button\n        >\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport HeaderCom from '../components/header-com.vue';\nimport FooterCom from '../components/footer-com.vue';\nimport http from './http';\nimport api from './api';\n\n    export default {\n        data(){\n            return {\n                visible: false,\n                name: '默认商品',\n                subName: '默认描述',\n                money:'100.00',\n                img: ''\n            }\n        },\n    \tcomponents: {\n    \t\tHeaderCom,\n        FooterCom,\n    \t},\n        created(){\n            this.initData();\n        },\n        methods: {\n            addFn(){\n                http.post(api.cartAdd,{productId: window.location.hash.split('=')[1],count: 1}).then((res)=>{\n                    if(res.status === 10000){\n                        this.visible = true;\n                    }else{\n                        \t\tthis.$message({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\tmessage: res.msg\n\t\t\t\t\t\t});\n                    }\n                })\n            },\ninitData(){\n       let hash = window.location.hash.split('=')[1]\n        http.get(api.productDetail,{\n            id:hash\n        },1).then((res)=>{\n            if(res.status === 10000){\n                this.name = res.data.name;\n                this.img = res.data.image;\n                this.subName = res.data.detail;\n                this.money = res.data.price;\n                this.stock = res.data.stock;\n            }\n        })\n},\n            handleOk(){\n                this.$router.push('/cart')\n                this.visible = false;\n            },\n\n        },\n    }\n</script>\n\n<style lang=\"less\" scoped>\n.content-header-wrapper{\n  width: 100%;\n}\n.content-header{\n    text-align: left;\n  height:64px;\n  padding:0 160px;\n  line-height: 64px;\n  width: 1152px;\n  margin-left: -24px;\n  font-family: PingFangSC-Regular;\nfont-size: 18px;\ncolor: #343434;\nfont-weight: 400;\n}\n.good-detail{\n  .title{\n    font-size: 26px;\n    font-weight: 700;\n    text-align: left;\n  }\n}\n.detail-img{\n  width: 540px;\nheight: 304px;\nbackground: #FFFFFF;\nborder: 1px solid #EBEBEB;\nborder-radius: 8px;\n}\n.detail-wrapper-wrapper{\n  width: 100%;\n    height: calc(100vh - 220px);\n    background: #F8FAFC;\n}\n.detail-wrapper{\n  padding-top: 35px;\n  width: 1152px;\n  margin: 0 auto;\n}\n.bottom{\n  display: flex;\n  margin-top: 20px;\n  img{\n    flex: none;\n  }\n  .detail-left{\n    margin-left: 24px;\n  }\n  .desc{\n    width: 588px;\nheight: 250px;\nbackground: #F3F5F6;\nborder: 1px solid #D5D5D5;\nborder-radius: 8px;\npadding:15px 24px;\n\n    position: relative;\n    .price{\n      color:#e4393c;\n      margin-top: 20px;\n      font-size: 22px;\n      text-align: right;\n    }\n  }\n  .subname{\n    text-align: left;\n    font-family: PingFangSC-Regular;\nfont-size: 18px;\ncolor: #343434;\nfont-weight: 400;\nmargin-top:12px;\n  }\n}\n.buy-btn{\n  position: absolute;\n  bottom: 0;\n  right: 0;\n}\n.left-bottom{\n  display:flex;\n  justify-content: flex-end;\n  align-items: center;\n  margin-top: 36px;\n}\n.price{\n  font-family: PingFangSC-Semibold;\nfont-size: 24px;\ncolor: #F04314;\nline-height: 18px;\nfont-weight: 600;\n}\n.buy{\n  margin-left: 24px;\n  width: 120px;\nheight: 36px;\nbackground: #F34D00;\nborder-radius: 18px;\n}\n.cancel-btn{\n  width: 120px;\nheight: 36px;\nborder: 1px solid #F34D00;\nborder-radius: 18px;\n\nfont-family: PingFangSC-Regular;\nfont-size: 14px;\ncolor: #F34D00;\ntext-align: center;\nfont-weight: 400;\n}\n.yes-btn{\n  width: 120px;\nheight: 36px;\nbackground: #F34D00;\nborder-radius: 18px;\n}\n.already-buy{\nfont-family: PingFangSC-Medium;\nfont-size: 21px;\ncolor: #9199A1;\ntext-align: center;\nfont-weight: 500;\nmargin-top: 23px;\ntext-align: center;\nmargin-bottom: 46px;\n}\n.good-img{\n  width:64px;\n  height:64px;\n}\n.buy-dialog{\n  width: 582px;\n  height:310px;\n}\n</style>\n"],"mappings":";AAmEA;;AAEA,OAAOA,SAAQ,MAAO,8BAA8B;AACpD,OAAOC,SAAQ,MAAO,8BAA8B;AACpD,OAAOC,IAAG,MAAO,QAAQ;AACzB,OAAOC,GAAE,MAAO,OAAO;AAEnB,eAAe;EACXC,IAAIA,CAAA,EAAE;IACF,OAAO;MACHC,OAAO,EAAE,KAAK;MACdC,IAAI,EAAE,MAAM;MACZC,OAAO,EAAE,MAAM;MACfC,KAAK,EAAC,QAAQ;MACdC,GAAG,EAAE;IACT;EACJ,CAAC;EACJC,UAAU,EAAE;IACXV,SAAS;IACPC;EACH,CAAC;EACEU,OAAOA,CAAA,EAAE;IACL,IAAI,CAACC,QAAQ,EAAE;EACnB,CAAC;EACDC,OAAO,EAAE;IACLC,KAAKA,CAAA,EAAE;MACHZ,IAAI,CAACa,IAAI,CAACZ,GAAG,CAACa,OAAO,EAAC;QAACC,SAAS,EAAEC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAACC,KAAK,EAAE;MAAC,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAG;QACxF,IAAGA,GAAG,CAACC,MAAK,KAAM,KAAK,EAAC;UACpB,IAAI,CAACpB,OAAM,GAAI,IAAI;QACvB,CAAC,MAAI;UACC,IAAI,CAACqB,QAAQ,CAAC;YAChCC,IAAI,EAAE,OAAO;YACbC,OAAO,EAAEJ,GAAG,CAACK;UACf,CAAC,CAAC;QACY;MACJ,CAAC;IACL,CAAC;IACbjB,QAAQA,CAAA,EAAE;MACH,IAAIQ,IAAG,GAAIF,MAAM,CAACC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;MAC3CnB,IAAI,CAAC4B,GAAG,CAAC3B,GAAG,CAAC4B,aAAa,EAAC;QACvBC,EAAE,EAACZ;MACP,CAAC,EAAC,CAAC,CAAC,CAACG,IAAI,CAAEC,GAAG,IAAG;QACb,IAAGA,GAAG,CAACC,MAAK,KAAM,KAAK,EAAC;UACpB,IAAI,CAACnB,IAAG,GAAIkB,GAAG,CAACpB,IAAI,CAACE,IAAI;UACzB,IAAI,CAACG,GAAE,GAAIe,GAAG,CAACpB,IAAI,CAAC6B,KAAK;UACzB,IAAI,CAAC1B,OAAM,GAAIiB,GAAG,CAACpB,IAAI,CAAC8B,MAAM;UAC9B,IAAI,CAAC1B,KAAI,GAAIgB,GAAG,CAACpB,IAAI,CAAC+B,KAAK;UAC3B,IAAI,CAACC,KAAI,GAAIZ,GAAG,CAACpB,IAAI,CAACgC,KAAK;QAC/B;MACJ,CAAC;IACT,CAAC;IACWC,QAAQA,CAAA,EAAE;MACN,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,OAAO;MACzB,IAAI,CAAClC,OAAM,GAAI,KAAK;IACxB;EAEJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}