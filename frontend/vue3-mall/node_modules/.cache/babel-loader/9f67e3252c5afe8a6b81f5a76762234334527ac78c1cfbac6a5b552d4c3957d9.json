{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport http from './http';\nimport api from './api';\nimport { useRouter } from 'vue-router';\nconst router = useRouter();\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      }\n    };\n  },\n  mounted() {\n    console.log('this::', this);\n  },\n  computed: {},\n  methods: {\n    locationFn(url) {\n      this.$router.push(url);\n    },\n    login() {\n      if (!this.loginForm.userName) {\n        this.$message({\n          type: 'error',\n          message: '请输入用户名'\n        });\n        return;\n      }\n      if (!this.loginForm.password) {\n        this.$message({\n          type: 'error',\n          message: '请输入密码'\n        });\n        return;\n      }\n      http.get(api.login, {\n        userName: this.loginForm.userName,\n        password: this.loginForm.password\n      }, 1).then(res => {\n        if (res.status === 10000) {\n          localStorage.setItem('username', res.data.username);\n          localStorage.setItem('personalizedSignature', res.data.personalizedSignature);\n          localStorage.setItem('role', res.data.role);\n          http.get(api.getToken + `?userName=${this.loginForm.userName}&password=${this.loginForm.password}`, null, 1).then(_res => {\n            if (_res.status === 10000) {\n              sessionStorage.setItem(\"token\", _res.data);\n              this.$router.push('/index');\n            }\n          });\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["http","api","useRouter","router","data","loginForm","username","password","mounted","console","log","computed","methods","locationFn","url","$router","push","login","userName","$message","type","message","get","then","res","status","localStorage","setItem","personalizedSignature","role","getToken","_res","sessionStorage","msg"],"sources":["E:\\源码\\SpringBoot电商前端代码\\vue3-mall-v2\\src\\pages\\login.vue"],"sourcesContent":["<template>\n\n<div class=\"login\">\n  <div class=\"content\">\n    <div class=\"left\">\n      <!-- <img width=\"337\" height=\"380\" src=\"../assets/loginbg.png\" alt=\"\"> -->\n    </div>\n    <div class=\"right\">\n      <div class=\"title\">账户登录</div>\n      <div class=\"tip\">用户名imooc 密码12345678</div>\n        <el-input\n          class=\"name\"\n          v-model=\"loginForm.userName\"\n          placeholder=\"请输入你的用户名\"\n        ></el-input>\n         <el-input\n         class=\"password\"\n                type=\"password\"\n                show-password\n                v-model=\"loginForm.password\"\n                placeholder=\"请输入登录密码\"\n          ></el-input>\n          <el-button class=\"login-btn\" @click=\"login\" type=\"primary\"\n              >立即登录</el-button\n            >\n            <!-- <p class=\"footer-desc\" @click=\"locationFn('/register')\">立即注册</p> -->\n    </div>\n    <!-- <div class=\"login-wrapper\">\n      <div class=\"title\">账户登录</div>\n      <div class=\"tip\">用户名imooc 密码12345678</div>\n      <div class=\"item\">\n        <span>账户名：</span>\n        <el-input\n          v-model=\"loginForm.userName\"\n          placeholder=\"请输入你的用户名\"\n        ></el-input>\n      </div>\n      <div class=\"item\">\n        <span>密码:</span>\n              <el-input\n                type=\"password\"\n                show-password\n                v-model=\"loginForm.password\"\n                placeholder=\"请输入你的用户名\"\n              ></el-input>\n      </div>\n                  <el-button class=\"login-btn\" @click=\"login\" type=\"primary\"\n              >立即登录</el-button\n            >\n      <div class=\"register-info\" @click=\"locationFn('/register')\">立即注册></div>\n    </div> -->\n  </div>\n</div>\n</template>\n\n<script>\n/* eslint-disable */\n\timport http from './http';\nimport api from './api';\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter();\n\n\texport default {\n\t    data(){\n\t\t\treturn {\n\t\t\t\tloginForm: {\n\t\t\t\t\tusername: '',\n\t\t\t\t\tpassword: '',\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted(){\n      console.log('this::',this);\n\t\t},\n\t\tcomputed: {\n\t\t},\n\t\tmethods: {\n\t\t\tlocationFn(url){\n\t\t\t\t\tthis.$router.push(url)\n\t\t\t},\n\n\t\t\tlogin(){\n        if(!this.loginForm.userName){\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\tmessage: '请输入用户名'\n\t\t\t\t\t\t});\n            return;\n        }\n        if(!this.loginForm.password){\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\tmessage: '请输入密码'\n\t\t\t\t\t\t});\n            return;\n        }\n        http.get(api.login,{userName:this.loginForm.userName,password:this.loginForm.password},1).then((res)=>{\n            if(res.status === 10000){\n\t\t\t\t\t\t\t      localStorage.setItem('username',res.data.username);\n                    localStorage.setItem('personalizedSignature',res.data.personalizedSignature);\n                    localStorage.setItem('role',res.data.role);\n                    \thttp.get(api.getToken + `?userName=${this.loginForm.userName}&password=${this.loginForm.password}`,null,1).then((_res)=>{\n\t\t\t\t\t\t\t\t\t\t\tif(_res.status === 10000){\n\t\t\t\t\t\t\t\t\t\t\t\tsessionStorage.setItem(\"token\", _res.data);\n\t\t\t\t\t\t\t\t\t\t    this.$router.push('/index')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n            }else{\n\t\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\tmessage: res.msg\n\t\t\t\t\t\t\t});\n            }\n        })\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\" scoped>\n.login{\n  background-image: url('../assets/homebg.png');\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.logo{\n  display: flex;\n  margin-top: 20px;\n}\n.content{\n  display: flex;\n  width: 720px;\n  height: 380px;\n  background: #FFFFFF;\n  box-shadow: 0px 12px 24px 0px rgba(28,31,33,0.1);\n  border-radius: 12px;\n  .left{\n    width: 337px;\n    flex:none;\n    background-image: url('../assets/loginbg.png');\n    background-size: cover;\n  }\n  .right{\n    flex: 1;\n    .title{\n      width: 73px;\n      height: 24px;\n      font-family: PingFangSC-Semibold;\n      font-size: 18px;\n      color: #F34D00;\n      line-height: 24px;\n      font-weight: 600;\n      margin: 0 auto;\n      margin-top: 33px;\n    }\n    .name{\n      width: 320px;\n      height: 48px;\n      // background: rgba(28,31,33,0.06);\n      border-radius: 8px;\n      margin-top: 32px;\n    }\n    .password{\n      width: 320px;\n      height: 48px;\n      //background: rgba(28,31,33,0.06);\n      border-radius: 8px;\n      margin-top: 20px;\n    }\n  }\n  .login-wrapper{\n    padding: 16px;\n    width: 500px;\n    height: 300px;\n    margin-right: 20px;\n    margin-top: 20px;\n    border-radius: 6px;\n    background-color: rgba(1, 1, 1, 0.6);\n    .item{\n      display: flex;\n      margin-top: 20px;\n      align-items: center;\n      color: #fff;\n      span{\n        display: inline-block;\n        width: 80px;\n      }\n    }\n    .el-button-primary{\n            background: #F34D00;\n      border-radius: 24px;\n    }\n  }\n}\n    .login-btn{\n      width: 320px;\n      height: 48px;\n      background: #F34D00;\n      border-radius: 24px;\n      margin-top: 32px\n    }\n.register-info{\n  color: #fff;\n  text-align: right;\n}\n.footer-desc{\n  width: 68px;\nheight: 24px;\nfont-family: PingFangSC-Semibold;\nfont-size: 16px;\ncolor: #F34D00;\ntext-align: left;\nline-height: 24px;\nfont-weight: 600;\nmargin-top:22px;\nmargin: 22px auto\n}\n.tip{\n  margin-top: 20px;\n  color: #F34D00;\n  font-size: 16px;\n}\n\n</style>\n"],"mappings":";AAwDA;AACC,OAAOA,IAAG,MAAO,QAAQ;AAC1B,OAAOC,GAAE,MAAO,OAAO;AACvB,SAASC,SAAQ,QAAS,YAAY;AAEtC,MAAMC,MAAK,GAAID,SAAS,EAAE;AAEzB,eAAe;EACXE,IAAIA,CAAA,EAAE;IACR,OAAO;MACNC,SAAS,EAAE;QACVC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACX;IACD;EACD,CAAC;EACDC,OAAOA,CAAA,EAAE;IACLC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAC,IAAI,CAAC;EAC9B,CAAC;EACDC,QAAQ,EAAE,CACV,CAAC;EACDC,OAAO,EAAE;IACRC,UAAUA,CAACC,GAAG,EAAC;MACb,IAAI,CAACC,OAAO,CAACC,IAAI,CAACF,GAAG;IACvB,CAAC;IAEDG,KAAKA,CAAA,EAAE;MACF,IAAG,CAAC,IAAI,CAACZ,SAAS,CAACa,QAAQ,EAAC;QAC9B,IAAI,CAACC,QAAQ,CAAC;UACZC,IAAI,EAAE,OAAO;UACbC,OAAO,EAAE;QACX,CAAC,CAAC;QACI;MACJ;MACA,IAAG,CAAC,IAAI,CAAChB,SAAS,CAACE,QAAQ,EAAC;QAC9B,IAAI,CAACY,QAAQ,CAAC;UACZC,IAAI,EAAE,OAAO;UACbC,OAAO,EAAE;QACX,CAAC,CAAC;QACI;MACJ;MACArB,IAAI,CAACsB,GAAG,CAACrB,GAAG,CAACgB,KAAK,EAAC;QAACC,QAAQ,EAAC,IAAI,CAACb,SAAS,CAACa,QAAQ;QAACX,QAAQ,EAAC,IAAI,CAACF,SAAS,CAACE;MAAQ,CAAC,EAAC,CAAC,CAAC,CAACgB,IAAI,CAAEC,GAAG,IAAG;QAClG,IAAGA,GAAG,CAACC,MAAK,KAAM,KAAK,EAAC;UACvBC,YAAY,CAACC,OAAO,CAAC,UAAU,EAACH,GAAG,CAACpB,IAAI,CAACE,QAAQ,CAAC;UAC3CoB,YAAY,CAACC,OAAO,CAAC,uBAAuB,EAACH,GAAG,CAACpB,IAAI,CAACwB,qBAAqB,CAAC;UAC5EF,YAAY,CAACC,OAAO,CAAC,MAAM,EAACH,GAAG,CAACpB,IAAI,CAACyB,IAAI,CAAC;UACzC7B,IAAI,CAACsB,GAAG,CAACrB,GAAG,CAAC6B,QAAO,GAAK,aAAY,IAAI,CAACzB,SAAS,CAACa,QAAS,aAAY,IAAI,CAACb,SAAS,CAACE,QAAS,EAAC,EAAC,IAAI,EAAC,CAAC,CAAC,CAACgB,IAAI,CAAEQ,IAAI,IAAG;YAClI,IAAGA,IAAI,CAACN,MAAK,KAAM,KAAK,EAAC;cACxBO,cAAc,CAACL,OAAO,CAAC,OAAO,EAAEI,IAAI,CAAC3B,IAAI,CAAC;cACxC,IAAI,CAACW,OAAO,CAACC,IAAI,CAAC,QAAQ;YAC7B;UACD,CAAC;QACC,CAAC,MAAI;UACV,IAAI,CAACG,QAAQ,CAAC;YACZC,IAAI,EAAE,OAAO;YACbC,OAAO,EAAEG,GAAG,CAACS;UACf,CAAC,CAAC;QACG;MACJ,CAAC;IACN;EACD;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}