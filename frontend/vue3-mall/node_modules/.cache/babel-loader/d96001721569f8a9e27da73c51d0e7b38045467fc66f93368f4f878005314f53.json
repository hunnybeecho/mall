{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\nimport http from './http';\nimport api from './api';\nimport { useRouter } from 'vue-router';\nconst router = useRouter();\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: ''\n      }\n    };\n  },\n  mounted() {\n    console.log('this::', this);\n  },\n  computed: {},\n  methods: {\n    locationFn(url) {\n      this.$router.push(url);\n    },\n    login() {\n      if (!this.loginForm.userName) {\n        this.$message({\n          type: 'error',\n          message: '请输入用户名'\n        });\n        return;\n      }\n      if (!this.loginForm.password) {\n        this.$message({\n          type: 'error',\n          message: '请输入密码'\n        });\n        return;\n      }\n      http.get(api.login, {\n        userName: this.loginForm.userName,\n        password: this.loginForm.password\n      }, 1).then(res => {\n        if (res.status === 10000) {\n          localStorage.setItem('username', res.data.username);\n          localStorage.setItem('personalizedSignature', res.data.personalizedSignature);\n          localStorage.setItem('role', res.data.role);\n          http.get(api.getToken + `?userName=${this.loginForm.userName}&password=${this.loginForm.password}`, null, 1).then(_res => {\n            if (_res.status === 10000) {\n              sessionStorage.setItem(\"token\", _res.data);\n              this.$router.push('/index');\n            }\n          });\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["http","api","useRouter","router","data","loginForm","username","password","mounted","console","log","computed","methods","locationFn","url","$router","push","login","userName","$message","type","message","get","then","res","status","localStorage","setItem","personalizedSignature","role","getToken","_res","sessionStorage","msg"],"sources":["E:\\源码\\SpringBoot电商前端代码\\vue3-mall-v2\\src\\pages\\login.vue"],"sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"content\">\n      <div class=\"left\">\n        <!-- <img width=\"337\" height=\"380\" src=\"../assets/loginbg.png\" alt=\"\"> -->\n      </div>\n      <div class=\"right\">\n        <div class=\"title\">睿乐购</div>\n        <!-- <div class=\"tip\">用户名imooc 密码12345678</div> -->\n        <el-input class=\"name\" v-model=\"loginForm.userName\" placeholder=\"请输入你的用户名\"></el-input>\n        <el-input class=\"password\" type=\"password\" show-password v-model=\"loginForm.password\"\n          placeholder=\"请输入登录密码\"></el-input>\n        <el-button class=\"login-btn\" @click=\"login\" type=\"primary\">立即登录</el-button>\n\n\n        <p class=\"footer-desc\" @click=\"locationFn('/register')\">立即注册</p>\n        <!-- <el-button class=\"footer-desc\" @click=\"locationFn('/register')\">注册</el-button> -->\n      </div>\n\n\n      <!-- <div class=\"login-wrapper\">\n      <div class=\"title\">账户登录</div>\n      <div class=\"tip\">用户名imooc 密码12345678</div>\n      <div class=\"item\">\n        <span>账户名：</span>\n        <el-input\n          v-model=\"loginForm.userName\"\n          placeholder=\"请输入你的用户名\"\n        ></el-input>\n      </div>\n      <div class=\"item\">\n        <span>密码:</span>\n              <el-input\n                type=\"password\"\n                show-password\n                v-model=\"loginForm.password\"\n                placeholder=\"请输入你的用户名\"\n              ></el-input>\n      </div>\n                  <el-button class=\"login-btn\" @click=\"login\" type=\"primary\"\n              >立即登录</el-button\n            >\n      <div class=\"register-info\" @click=\"locationFn('/register')\">立即注册></div>\n    </div> -->\n\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport http from './http';\nimport api from './api';\nimport { useRouter } from 'vue-router';\n\nconst router = useRouter();\n\nexport default {\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: '',\n      }\n    }\n  },\n  mounted() {\n    console.log('this::', this);\n  },\n  computed: {\n  },\n  methods: {\n    locationFn(url) {\n      this.$router.push(url)\n    },\n\n    login() {\n      if (!this.loginForm.userName) {\n        this.$message({\n          type: 'error',\n          message: '请输入用户名'\n        });\n        return;\n      }\n      if (!this.loginForm.password) {\n        this.$message({\n          type: 'error',\n          message: '请输入密码'\n        });\n        return;\n      }\n      http.get(api.login, { userName: this.loginForm.userName, password: this.loginForm.password }, 1).then((res) => {\n        if (res.status === 10000) {\n          localStorage.setItem('username', res.data.username);\n          localStorage.setItem('personalizedSignature', res.data.personalizedSignature);\n          localStorage.setItem('role', res.data.role);\n          http.get(api.getToken + `?userName=${this.loginForm.userName}&password=${this.loginForm.password}`, null, 1).then((_res) => {\n            if (_res.status === 10000) {\n              sessionStorage.setItem(\"token\", _res.data);\n              this.$router.push('/index')\n            }\n          })\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      })\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login {\n  background-image: url('../assets/homebg.png');\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.logo {\n  display: flex;\n  margin-top: 20px;\n}\n\n.content {\n  display: flex;\n  width: 720px;\n  height: 380px;\n  background: #FFFFFF;\n  box-shadow: 0px 12px 24px 0px rgba(28, 31, 33, 0.1);\n  border-radius: 12px;\n\n  .left {\n    width: 337px;\n    flex: none;\n    background-image: url('../assets/loginbg.png');\n    background-size: cover;\n  }\n\n  .right {\n    flex: 1;\n\n    .title {\n      width: 120px;\n      height: 24px;\n      font-family: PingFangSC-Semibold;\n      font-size: 36px;\n      color: #F34D00;\n      line-height: 24px;\n      font-weight: 600;\n      margin: 20px auto;\n      margin-top: 33px;\n    }\n\n    .name {\n      width: 320px;\n      height: 48px;\n      // background: rgba(28,31,33,0.06);\n      border-radius: 8px;\n      margin-top: 32px;\n    }\n\n    .password {\n      width: 320px;\n      height: 48px;\n      //background: rgba(28,31,33,0.06);\n      border-radius: 8px;\n      margin-top: 20px;\n    }\n  }\n\n  .login-wrapper {\n    padding: 16px;\n    width: 500px;\n    height: 300px;\n    margin-right: 20px;\n    margin-top: 20px;\n    border-radius: 6px;\n    background-color: rgba(1, 1, 1, 0.6);\n\n    .item {\n      display: flex;\n      margin-top: 20px;\n      align-items: center;\n      color: #fff;\n\n      span {\n        display: inline-block;\n        width: 80px;\n      }\n    }\n\n    .el-button-primary {\n      background: #F34D00;\n      border-radius: 24px;\n    }\n  }\n}\n\n.login-btn {\n  width: 325px;\n  height: 48px;\n  background: #F34D00;\n  border-radius: 24px;\n  margin-top: 32px\n}\n\n.register-info {\n  color: #fff;\n  text-align: right;\n}\n\n.footer-desc {\n  width: 68px;\n  height: 24px;\n  font-family: PingFangSC-Semibold;\n  font-size: 16px;\n  color: #F34D00;\n  text-align: left;\n  line-height: 24px;\n  font-weight: 600;\n  margin-top: 22px;\n  margin: 22px auto;\n}\n\n.tip {\n  margin-top: 20px;\n  color: #F34D00;\n  font-size: 16px;\n}\n</style>\n"],"mappings":";AAkDA;AACA,OAAOA,IAAG,MAAO,QAAQ;AACzB,OAAOC,GAAE,MAAO,OAAO;AACvB,SAASC,SAAQ,QAAS,YAAY;AAEtC,MAAMC,MAAK,GAAID,SAAS,EAAE;AAE1B,eAAe;EACbE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACZ;IACF;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACRC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC;EAC7B,CAAC;EACDC,QAAQ,EAAE,CACV,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAACC,GAAG,EAAE;MACd,IAAI,CAACC,OAAO,CAACC,IAAI,CAACF,GAAG;IACvB,CAAC;IAEDG,KAAKA,CAAA,EAAG;MACN,IAAI,CAAC,IAAI,CAACZ,SAAS,CAACa,QAAQ,EAAE;QAC5B,IAAI,CAACC,QAAQ,CAAC;UACZC,IAAI,EAAE,OAAO;UACbC,OAAO,EAAE;QACX,CAAC,CAAC;QACF;MACF;MACA,IAAI,CAAC,IAAI,CAAChB,SAAS,CAACE,QAAQ,EAAE;QAC5B,IAAI,CAACY,QAAQ,CAAC;UACZC,IAAI,EAAE,OAAO;UACbC,OAAO,EAAE;QACX,CAAC,CAAC;QACF;MACF;MACArB,IAAI,CAACsB,GAAG,CAACrB,GAAG,CAACgB,KAAK,EAAE;QAAEC,QAAQ,EAAE,IAAI,CAACb,SAAS,CAACa,QAAQ;QAAEX,QAAQ,EAAE,IAAI,CAACF,SAAS,CAACE;MAAS,CAAC,EAAE,CAAC,CAAC,CAACgB,IAAI,CAAEC,GAAG,IAAK;QAC7G,IAAIA,GAAG,CAACC,MAAK,KAAM,KAAK,EAAE;UACxBC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEH,GAAG,CAACpB,IAAI,CAACE,QAAQ,CAAC;UACnDoB,YAAY,CAACC,OAAO,CAAC,uBAAuB,EAAEH,GAAG,CAACpB,IAAI,CAACwB,qBAAqB,CAAC;UAC7EF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEH,GAAG,CAACpB,IAAI,CAACyB,IAAI,CAAC;UAC3C7B,IAAI,CAACsB,GAAG,CAACrB,GAAG,CAAC6B,QAAO,GAAK,aAAY,IAAI,CAACzB,SAAS,CAACa,QAAS,aAAY,IAAI,CAACb,SAAS,CAACE,QAAS,EAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAACgB,IAAI,CAAEQ,IAAI,IAAK;YAC1H,IAAIA,IAAI,CAACN,MAAK,KAAM,KAAK,EAAE;cACzBO,cAAc,CAACL,OAAO,CAAC,OAAO,EAAEI,IAAI,CAAC3B,IAAI,CAAC;cAC1C,IAAI,CAACW,OAAO,CAACC,IAAI,CAAC,QAAQ;YAC5B;UACF,CAAC;QACH,OAAO;UACL,IAAI,CAACG,QAAQ,CAAC;YACZC,IAAI,EAAE,OAAO;YACbC,OAAO,EAAEG,GAAG,CAACS;UACf,CAAC,CAAC;QACJ;MACF,CAAC;IACH;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}