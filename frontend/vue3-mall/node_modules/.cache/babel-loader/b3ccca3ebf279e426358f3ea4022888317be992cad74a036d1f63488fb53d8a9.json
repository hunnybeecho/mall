{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/* eslint-disable */\n\nimport HeaderCom from '../components/header-com.vue';\nimport NavCom from '../components/nav-com.vue';\nimport Footer from '../components/footer-com.vue';\nimport http from './http';\nimport api from './api';\nexport default {\n  data() {\n    return {\n      id: '',\n      current: 0,\n      address: '',\n      address_money: 10,\n      all: 20,\n      name: '',\n      phone: '',\n      status: '',\n      totalPrice: '',\n      goods: []\n    };\n  },\n  components: {\n    HeaderCom,\n    NavCom,\n    Footer\n  },\n  created() {},\n  mounted() {\n    this.getData();\n  },\n  methods: {\n    toPay() {\n      this.$router.push('/pay?orderNo=' + window.location.hash.split('=')[1]);\n    },\n    getGood() {\n      http.post(api.orderFinish, {\n        orderNo: window.location.hash.split('=')[1]\n      }).then(res => {\n        if (res.status === 10000) {\n          this.$message({\n            type: 'success',\n            message: '收货成功'\n          });\n          this.$router.push('/orders');\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      });\n    },\n    locationFn(url) {\n      this.$router.push(url);\n    },\n    cancelOrder() {\n      http.post(api.orderCancel, {\n        orderNo: window.location.hash.split('=')[1]\n      }).then(res => {\n        if (res.status === 10000) {\n          this.$message({\n            type: 'success',\n            message: '取消成功'\n          });\n          this.$router.push('/orders');\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      });\n    },\n    getData() {\n      http.get(api.orderDetail, {\n        orderNo: window.location.hash.split('=')[1]\n      }).then(res => {\n        if (res.status === 10000) {\n          this.goods = res.data.orderItemVOList;\n          this.name = res.data.receiverName;\n          this.phone = res.data.receiverMobile;\n          this.address = res.data.receiverAddress;\n          this.totalPrice = res.data.totalPrice;\n          this.status = res.data.orderStatus;\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["HeaderCom","NavCom","Footer","http","api","data","id","current","address","address_money","all","name","phone","status","totalPrice","goods","components","created","mounted","getData","methods","toPay","$router","push","window","location","hash","split","getGood","post","orderFinish","orderNo","then","res","$message","type","message","msg","locationFn","url","cancelOrder","orderCancel","get","orderDetail","orderItemVOList","receiverName","receiverMobile","receiverAddress","orderStatus"],"sources":["D:\\Projects\\spring\\mall\\frontend\\vue3-mall\\src\\pages\\order_detail.vue"],"sourcesContent":["<template>\n  <div>\n    <HeaderCom></HeaderCom>\n    <div class=\"content\">\n      <div class=\"header-wrapper\">\n      <div class=\"header\">\n        <div class=\"left\">\n          <span  class=\"desc\">订单详情</span>\n          <el-progress v-if=\"status === 0\" :text-inside=\"true\" :stroke-width=\"20\" :percentage=\"30\" status=\"exception\">\n            <span>已取消</span>\n          </el-progress>\n          <el-progress v-if=\"status === 10\" :text-inside=\"true\" :stroke-width=\"20\" :percentage=\"35\" status=\"exception\">\n            <span>待付款</span>\n          </el-progress>\n          <el-progress v-if=\"status === 20\" :text-inside=\"true\" :stroke-width=\"20\" :percentage=\"70\" status=\"warning\">\n            <span>付款成功</span>\n          </el-progress>\n                  <el-progress v-if=\"status === 30\"  :text-inside=\"true\" :stroke-width=\"20\" :percentage=\"90\" status=\"warning\">\n            <span>出库成功</span>\n          </el-progress>\n                  <el-progress v-if=\"status === 40\"  :text-inside=\"true\" :stroke-width=\"20\" :percentage=\"100\" status=\"success\">\n            <span>交易成功</span>\n          </el-progress>\n        </div>\n        <el-button  size=\"small\" @click=\"locationFn('/orders')\" type=\"primary\">返回订单列表</el-button>\n      </div>\n      </div>\n      <div class=\"info-card-wrapper\">\n\n      <div class=\"info-card\">\n       <div class=\"info-card-content\">\n        <div class=\"info-title\">\n          <span class=\"title\">核对订单信息</span>\n          <span class=\"tip\">共{{goods.length}}件商品</span>\n        </div>\n                        \n        <div class=\"items\" :key=\"index\" v-for=\"(item,index) in goods\" >\n            <img\n              :src=\"item.productImg\"\n              width=\"160\"\n              height=\"90\"\n              alt=\"\"\n            />\n            <span class=\"name\">{{ item.productName }}</span>\n            <span class=\"num\">数量：{{ item.quantity }}</span>\n            <span class=\"money\">¥{{ item.unitPrice / 100 }} × {{ item.quantity }}</span>\n        </div>\n        <div class=\"adrress-wrapper\">\n          <div class=\"adrress\">\n          \n            <span class=\"adrress-name\">收货信息：</span>\n            <span class=\"adrress-info\">{{address}}</span>\n            <span class=\"user\">{{name}}</span>\n            <span class=\"phone\">{{phone}}</span>\n          </div>\n          <div class=\"pay\">\n          <span>支付方式：</span>\n          <span>支付宝在线支付</span>\n          </div>\n        </div>\n        <div class=\"content-footer\">\n          <div class=\"item\">\n            <div class=\"item-name\">配送费：</div>\n            <div class=\"item-value1\">¥0</div>\n          </div>\n            <div class=\"item item2\">\n            <div class=\"item-name\">商品金额：</div>\n            <div class=\"item-value2\">¥{{ totalPrice / 100 }}</div>\n          </div>\n                          <div class=\"item item3\">\n            <div class=\"item-name\">应付金额：</div>\n            <div class=\"item-value3\">¥{{ totalPrice / 100 }}</div>\n          </div>\n        </div>\n        <div class=\"btns-wrapper\">\n                         <el-button  v-if=\"status === 10\" class=\"login-btn\" @click=\"cancelOrder\" type=\"danger\"\n              >取消订单</el-button\n            >\n                   <el-button v-if=\"status === 10\" class=\"login-btn\" @click=\"toPay\" type=\"primary\"\n              >去支付</el-button\n            >\n       <el-button v-if=\"status === 0\" class=\"login-btn\" type=\"success\"\n              >已取消</el-button\n            >\n            <el-button v-else-if=\"status !== 40\" class=\"login-btn\" @click=\"getGood\" type=\"success\"\n              >确认收货</el-button>\n        </div>\n       </div>\n      </div>\n      </div>\n    </div>\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport HeaderCom from '../components/header-com.vue';\nimport NavCom from '../components/nav-com.vue';\nimport Footer from '../components/footer-com.vue';\nimport http from './http'\nimport api from './api'\n    export default {\n        data(){\n            return {\n                id:'',\n                current: 0,\n                address:'',\n                address_money: 10,\n                all:20,\n                name:'',\n                phone: '',\n                status: '',\n                totalPrice:'',\n                goods:[\n                ]\n            }\n        },\n    \tcomponents: {\n    \t\tHeaderCom,\n            NavCom,\n            Footer,\n    \t},\n        created(){\n        },\n        mounted(){\n\n                this.getData();\n        },\n        methods: {\n            toPay(){\n                 this.$router.push('/pay?orderNo='+window.location.hash.split('=')[1])\n            },\n            getGood(){\n                http.post(api.orderFinish,{orderNo: window.location.hash.split('=')[1]}).then((res)=>{\n                                                    if(res.status === 10000){\n                                                        this.$message({\n                                                            type: 'success',\n                                                            message: '收货成功'\n                                                        }); \n                                                        this.$router.push('/orders');\n                                                    }else{\n                                                         this.$message({\n                                                            type: 'error',\n                                                            message: res.msg\n                                                        }); \n                                                    }\n                                                })\n            },\n            \tlocationFn(url){\n\t\t\t\t\tthis.$router.push(url)\n\t\t\t},\n            cancelOrder(){\n      http.post(api.orderCancel,{orderNo: window.location.hash.split('=')[1]}).then((res)=>{\n                                                                        if(res.status === 10000){\n                                                                             this.$message({\n                    type:'success',\n                    message:'取消成功'\n                })\n                        this.$router.push('/orders')\n                                                                        }else{\n                                                                              this.$message({\n                    type:'error',\n                    message:res.msg\n                })\n                                                                        }\n                                                                    })\n            },\n    getData(){\n        http.get(api.orderDetail,{orderNo:window.location.hash.split('=')[1]}).then((res)=>{\n            if(res.status === 10000){\n                this.goods = res.data.orderItemVOList;\n                this.name = res.data.receiverName;\n                this.phone = res.data.receiverMobile;\n                this.address = res.data.receiverAddress;\n                this.totalPrice = res.data.totalPrice;\n                this.status = res.data.orderStatus;\n            }else{\n                this.$message({\n                    type:'error',\n                    message:res.msg\n                })\n            }\n        })\n    }\n        },\n    }\n</script>\n<style lang=\"less\" scoped>\n.content{\n  margin-top: 30px;\n  .header-wrapper{\n    width: 100%\n  }\n  .header{\n    width: 1152px;\n    margin: 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n        margin-top: -24px;\n  height:64px;\n  padding:0 160px;\n  line-height: 64px;\n    .left{\n      display: flex;\n    }\n    .desc{\nfont-family: PingFangSC-Semibold;\nfont-size: 12px;\ncolor: #07111B;\nline-height: 24px;\nfont-weight: 600;\n    }\n    .el-progress{\n      width: 300px;\n      margin-left: 100px;\n    }\n  }\n}\n.info-wrapper{\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n  border-top: 1px solid #eeeeee;\n  padding-top: 20px;\n}\n.info{\n  width: 50%;\n}\n.footer{\n  padding-right: 100px;\n  padding-bottom: 20px;\n  margin-bottom: 40px;\n\n  p{\n    text-align: right;\n    i{\n      font-size: 20px;\n      color: #e4393c;\n    }\n  }\n}\n.info-card-wrapper{\n  width: 100%;\n        background-color: #f3f3f3;\n        margin-bottom: 91px;\n}\n.info-card{\n          height: calc(100vh - 220px);\n          width: 1152px;\n          margin: 0 auto;\n        display:flex;\n        align-items: center;\n}\n.info-card-content{\n  width: 992px;\n  // height: 770px;\n  background: #FFFFFF;\n  box-shadow: 0px 4px 8px 0px rgba(0,0,0,0.1);\n  border-radius: 8px;\n  padding:24px 33px;\n}\n.info-title{\n  border-bottom: 1px solid #F1F1F1;\n  padding-bottom: 16px;\n  text-align:left;\n  .title{\n    font-family: PingFangSC-Semibold;\n    font-size: 12px;\n    color: #07111B;\n    line-height: 24px;\n    font-weight: 600;\n  }\n  .tip{\n    font-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #93999F;\nline-height: 24px;\nfont-weight: 400;\nmargin-left: 15px;\n  }\n}\n.items{\n  display:flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 20px;\n  .name{\n    font-family: PingFangSC-Regular;\nfont-size: 14px;\ncolor: #07111B;\nline-height: 22px;\nfont-weight: 400;\n  }\n  .num{\n    font-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #93999F;\nline-height: 22px;\nfont-weight: 400;\n  }\n  .money{\n    font-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #F04314;\nline-height: 24px;\nfont-weight: 400;\n  }\n}\n.adrress-wrapper{\n  border-top: 1px solid #F1F1F1;\n  border-bottom: 1px solid #F1F1F1;\n  padding: 14px 0;\n  margin-top:20px;\n  .adrress{\n    text-align: left;\n    .adrress-name{\n      font-family: PingFangSC-Semibold;\n      font-size: 12px;\n      color: #07111B;\n      line-height: 24px;\n      font-weight: 600;\n    }\n    .adrress-info{\n      font-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #07111B;\nline-height: 24px;\nfont-weight: 400;\n    }\n    .user{\n      font-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #93999F;\nline-height: 24px;\nfont-weight: 400;\nmargin-left: 27px;\n    }\n    .phone{\n      font-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #93999F;\nline-height: 24px;\nfont-weight: 400;\nmargin-left: 10px;\n    }\n  }\n}\n.pay{\n  text-align: left;\n  span{\n    &:first-child{\n      font-family: PingFangSC-Semibold;\nfont-size: 12px;\ncolor: #07111B;\nline-height: 24px;\nfont-weight: 600;\n    }\n    &:last-child{\n      font-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #0079F1;\nline-height: 24px;\nfont-weight: 400;\n    }\n  }\n}\n\n.content-footer{\n    padding: 21px;\n    border-bottom: 1px solid #F1F1F1;\n    text-align: right;\n    .item{\n        display: flex;\n        justify-content: flex-end;\n        .item-name{\n            font-family: PingFangSC-Semibold;\n            font-size: 12px;\n            color: #07111B;\n            line-height: 24px;\n            font-weight: 600;\n        }\n    }\n    .item2{\n        margin-top: 7px;\n    }\n    .item3{\n        margin-top: 15px;\n    }\n    .item-value1{\n        font-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #F04314;\nline-height: 24px;\nfont-weight: 400;\n    }\n        .item-value2{\nfont-family: PingFangSC-Regular;\nfont-size: 12px;\ncolor: #F04314;\nline-height: 24px;\nfont-weight: 400;\n    }\n        .item-value3{\nfont-family: PingFangSC-Regular;\nfont-size: 18px;\ncolor: #F04314;\nline-height: 24px;\nfont-weight: 400;\n    }\n\n}\n.btns-wrapper{\n  display:flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 30px;\n}\n.login-btn{\n  width: 120px;\nheight: 36px;\n// background: #F34D00;\nborder-radius: 18px;\n}\n\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}