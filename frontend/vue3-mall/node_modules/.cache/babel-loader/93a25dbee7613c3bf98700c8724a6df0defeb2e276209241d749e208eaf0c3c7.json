{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-155969a7\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"login\"\n};\nconst _hoisted_2 = {\n  class: \"content\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"left\"\n}, [/*#__PURE__*/_createCommentVNode(\" <img width=\\\"337\\\" height=\\\"380\\\" src=\\\"../assets/loginbg.png\\\" alt=\\\"\\\"> \")], -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"right\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"title\"\n}, \"账户注册\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"item\"\n};\nconst _hoisted_7 = {\n  class: \"item\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createVNode(_component_el_input, {\n    class: \"name\",\n    modelValue: $data.userName,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.userName = $event),\n    placeholder: \"请输入用户名\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_input, {\n    class: \"password\",\n    \"show-password\": \"\",\n    modelValue: $data.password,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    placeholder: \"请输入密码\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_el_input, {\n    class: \"email\",\n    modelValue: $data.email,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.email = $event),\n    placeholder: \"请输入邮箱\"\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_el_button, {\n    class: \"email-btn\",\n    size: \"small\",\n    onClick: $options.sendEmail,\n    type: \"primary\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"发送验证码到邮箱\" + _toDisplayString($data.start ? `(${$data.time})` : ''), 1 /* TEXT */)]),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])]), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_el_input, {\n    modelValue: $data.code,\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.code = $event),\n    placeholder: \"请输入验证码\"\n  }, null, 8 /* PROPS */, [\"modelValue\"])]), !!$data.code ? (_openBlock(), _createBlock(_component_el_button, {\n    key: 0,\n    class: \"login-btn\",\n    onClick: $options.login,\n    type: \"primary\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"注册\")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", {\n    class: \"register-info\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.locationFn('/'))\n  }, \"已有账号，去登录>\")])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createCommentVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_el_input","$data","userName","$event","placeholder","password","_hoisted_6","email","_component_el_button","size","onClick","$options","sendEmail","type","_toDisplayString","start","time","_hoisted_7","code","_createBlock","login","_cache","locationFn"],"sources":["D:\\Projects\\spring\\mumumall\\vue3-mall-v2\\src\\pages\\register.vue"],"sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"content\">\n      <div class=\"left\">\n        <!-- <img width=\"337\" height=\"380\" src=\"../assets/loginbg.png\" alt=\"\"> -->\n      </div>\n      <div class=\"right\">\n        <div class=\"title\">账户注册</div>\n        <el-input class=\"name\" v-model=\"userName\" placeholder=\"请输入用户名\"></el-input>\n        <el-input class=\"password\" show-password v-model=\"password\" placeholder=\"请输入密码\"></el-input>\n        <div class=\"item\">\n          <el-input class=\"email\" v-model=\"email\" placeholder=\"请输入邮箱\"></el-input>\n          <el-button class=\"email-btn\" size=\"small\" @click=\"sendEmail\" type=\"primary\">发送验证码到邮箱{{ start ? `(${time})` :\n            '' }}</el-button>\n        </div>\n        <div class=\"item\">\n          <el-input v-model=\"code\" placeholder=\"请输入验证码\"></el-input>\n        </div>\n        <el-button v-if=\"!!code\" class=\"login-btn\" @click=\"login\" type=\"primary\">注册</el-button>\n        <div class=\"register-info\" @click=\"locationFn('/')\">已有账号，去登录></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport http from './http';\nimport api from './_api';\n\nexport default {\n  data() {\n    return {\n      userName: '',\n      password: '',\n      code: null,\n      email: '',\n      time: 60,\n      start: false,\n      show: true,\n    }\n  },\n  mounted() {\n  },\n  computed: {\n  },\n  methods: {\n    sendEmail() {\n      http.post(api.emailSend, { emailAddress: this.email }, 1).then((res) => {\n        if (res.status === 10000) {\n          this.start = true;\n          setInterval(() => {\n            if (this.time !== 0) {\n              this.time = this.time - 1\n            }\n          }, 1000)\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      })\n    },\n    locationFn(url) {\n      this.$router.push(url)\n    },\n    login() {\n      if (!this.userName) {\n        this.$message({\n          type: 'error',\n          message: '请输入用户名'\n        });\n        return;\n      }\n      if (!this.password) {\n        this.$message({\n          type: 'error',\n          message: '请输入密码'\n        });\n        return;\n      }\n      http.post(api.register, { userName: this.userName, password: this.password, emailAddress: this.email, verificationCode: this.code }, 1).then((res) => {\n        if (res.status === 10000) {\n          // localStorage.setItem('username',this.userName);\n          // localStorage.setItem('personalizedSignature',res.data.personalizedSignature);\n          // localStorage.setItem('role',res.data.role);\n          this.$message({\n            type: 'success',\n            message: '注册成功'\n          });\n          this.$router.push('/login')\n        } else {\n          this.$message({\n            type: 'error',\n            message: res.msg\n          });\n        }\n      })\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.login {\n  background-image: url('../assets/homebg.png');\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100% !important;\n}\n\n.logo {\n  display: flex;\n  margin-top: 20px;\n}\n\n.content {\n  display: flex;\n  width: 720px;\n  background: #FFFFFF;\n  box-shadow: 0px 12px 24px 0px rgba(28, 31, 33, 0.1);\n  border-radius: 12px;\n\n  .left {\n    width: 337px;\n    flex: none;\n    background-image: url('../assets/loginbg.png');\n    background-size: cover;\n  }\n\n  .right {\n    flex: 1;\n\n    .title {\n      width: 73px;\n      height: 24px;\n      font-family: PingFangSC-Semibold;\n      font-size: 18px;\n      color: #F34D00;\n      line-height: 24px;\n      font-weight: 600;\n      margin: 0 auto;\n      margin-top: 33px;\n    }\n\n    .name {\n      width: 320px;\n      height: 48px;\n      // background: rgba(28,31,33,0.06);\n      border-radius: 8px;\n      margin-top: 32px;\n    }\n\n    .password {\n      width: 320px;\n      height: 48px;\n      //background: rgba(28,31,33,0.06);\n      border-radius: 8px;\n      margin-top: 20px;\n    }\n  }\n\n  .login-wrapper {\n    padding: 16px;\n    width: 500px;\n    height: 300px;\n    margin-right: 20px;\n    margin-top: 20px;\n    border-radius: 6px;\n    background-color: rgba(1, 1, 1, 0.6);\n\n    .item {\n      display: flex;\n      margin-top: 20px;\n      align-items: center;\n      color: #fff;\n\n      span {\n        display: inline-block;\n        width: 80px;\n      }\n    }\n\n    .el-button-primary {\n      background: #F34D00;\n      border-radius: 24px;\n    }\n  }\n}\n\n.login-btn {\n  width: 320px;\n  height: 48px;\n  background: #F34D00;\n  border-radius: 24px;\n  margin-top: 20px\n}\n\n.register-info {\n  color: #fff;\n  text-align: right;\n}\n\n.footer-desc {\n  width: 68px;\n  height: 24px;\n  font-family: PingFangSC-Semibold;\n  font-size: 16px;\n  color: #F34D00;\n  text-align: left;\n  line-height: 24px;\n  font-weight: 600;\n  margin-top: 22px;\n  margin: 22px auto\n}\n\n.tip {\n  margin-top: 20px;\n  color: #fff;\n  font-size: 12px;\n}\n\n.item {\n  display: flex;\n  width: 320px;\n  margin: 20px auto;\n\n  // .el-input__inner{\n  //   flex: 1;\n  // }\n  .email {\n    flex: 1;\n  }\n\n  .email-btn {\n    flex: none;\n  }\n}\n\n.register-info {\n  color: #F34D00;\n  margin-right: 12px;\n  margin-top: 20px;\n  margin-bottom: 12px;\n}\n</style>\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAO;;EACXA,KAAK,EAAC;AAAS;gEAClBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAM,I,aACfE,mBAAA,+EAA0E,C;;EAEvEF,KAAK,EAAC;AAAO;gEAChBC,mBAAA,CAA6B;EAAxBD,KAAK,EAAC;AAAO,GAAC,MAAI;;EAGlBA,KAAK,EAAC;AAAM;;EAKZA,KAAK,EAAC;AAAM;;;;uBAdvBG,mBAAA,CAqBM,OArBNC,UAqBM,GApBJH,mBAAA,CAmBM,OAnBNI,UAmBM,GAlBJC,UAEM,EACNL,mBAAA,CAcM,OAdNM,UAcM,GAbJC,UAA6B,EAC7BC,YAAA,CAA0EC,mBAAA;IAAhEV,KAAK,EAAC,MAAM;gBAAUW,KAAA,CAAAC,QAAQ;+DAARD,KAAA,CAAAC,QAAQ,GAAAC,MAAA;IAAEC,WAAW,EAAC;2CACtDL,YAAA,CAA2FC,mBAAA;IAAjFV,KAAK,EAAC,UAAU;IAAC,eAAa,EAAb,EAAa;gBAAUW,KAAA,CAAAI,QAAQ;+DAARJ,KAAA,CAAAI,QAAQ,GAAAF,MAAA;IAAEC,WAAW,EAAC;2CACxEb,mBAAA,CAIM,OAJNe,UAIM,GAHJP,YAAA,CAAuEC,mBAAA;IAA7DV,KAAK,EAAC,OAAO;gBAAUW,KAAA,CAAAM,KAAK;+DAALN,KAAA,CAAAM,KAAK,GAAAJ,MAAA;IAAEC,WAAW,EAAC;2CACpDL,YAAA,CACmBS,oBAAA;IADRlB,KAAK,EAAC,WAAW;IAACmB,IAAI,EAAC,OAAO;IAAEC,OAAK,EAAEC,QAAA,CAAAC,SAAS;IAAEC,IAAI,EAAC;;sBAAU,MAAQ,C,iBAAR,UAAQ,GAAAC,gBAAA,CAAGb,KAAA,CAAAc,KAAK,OAAOd,KAAA,CAAAe,IAAI,M;;;oCAGzGzB,mBAAA,CAEM,OAFN0B,UAEM,GADJlB,YAAA,CAAyDC,mBAAA;gBAAtCC,KAAA,CAAAiB,IAAI;+DAAJjB,KAAA,CAAAiB,IAAI,GAAAf,MAAA;IAAEC,WAAW,EAAC;+CAEpBH,KAAA,CAAAiB,IAAI,I,cAAvBC,YAAA,CAAuFX,oBAAA;;IAA9DlB,KAAK,EAAC,WAAW;IAAEoB,OAAK,EAAEC,QAAA,CAAAS,KAAK;IAAEP,IAAI,EAAC;;sBAAU,MAAE,C,iBAAF,IAAE,E;;uEAC3EtB,mBAAA,CAAmE;IAA9DD,KAAK,EAAC,eAAe;IAAEoB,OAAK,EAAAW,MAAA,QAAAA,MAAA,MAAAlB,MAAA,IAAEQ,QAAA,CAAAW,UAAU;KAAO,WAAS,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}